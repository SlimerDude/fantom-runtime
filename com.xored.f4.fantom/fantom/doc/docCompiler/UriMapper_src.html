<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>docCompiler::UriMapper</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../doc.css'/>
  <script type='text/javascript' src='../doc.js'></script>
<!--[if lt IE 7]>
<script src='http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js' type='text/javascript'></script>
<![endif]-->
</head>
<body onload='Login.check();'>
<div class='header'>
<div>
<h1><a href='/'>Fantom</a></h1>
<p id='sidewalkLogin_'>&nbsp;</p>
<form method='get' action='/sidewalk/search/'>
<p>
<input type='text' name='q' size='30' value='Search...' onfocus='if (value=="Search...") value=""' onblur='if (value=="") value="Search..."' />
</p>
</form>
<ul>
<li><a href='/'>Home</a></li>
<li class='active'><a href='../index.html'>Docs</a></li>
<li><a href='/sidewalk/blog/'>Blog</a></li>
<li><a href='/sidewalk/ticket/'>Tickets</a></li>
<li><a href='/sidewalk/topic/'>Discuss</a></li>
</ul></div>
</div>
<div class='subHeader'>
<div>
<ul>
  <li><a href='../index.html'>Doc Home</a></li>
  <li>&gt;</li>
  <li><a href='index.html'>docCompiler</a></li>
  <li>&gt;</li>
  <li><a href='UriMapper.html'>UriMapper</a></li>
</ul>
</div>
</div>
<div class='content'>
<div>
<div class='fandoc'>
<div class='type'>
<div class='overview'>
<h2>class</h2>
<h1>docCompiler::UriMapper</h1>
<pre><a href='../sys/Obj.html'>sys::Obj</a>
  docCompiler::UriMapper : <a href='DocCompilerSupport.html'>docCompiler::DocCompilerSupport</a></pre>
</div>
</div>
<div class='src'>
<pre>
<span class='y'>//</span>
<span class='y'>// Copyright (c) 2007, Brian Frank and Andy Frank</span>
<span class='y'>// Licensed under the Academic Free License version 3.0</span>
<span class='y'>//</span>
<span class='y'>// History:</span>
<span class='y'>//   11 May 07  Brian Frank  Creation</span>
<span class='y'>//</span>

<span class='k'>using</span> compiler
<span class='k'>using</span> fandoc

<span class='z'>**</span>
<span class='z'>** UriMapper is used to normalize fandoc URIs into hrefs to</span>
<span class='z'>** their HTML file representation using relative URLs.</span>
<span class='z'>**</span>
<span class='k'>class</span> UriMapper : DocCompilerSupport
<span class='b'>{</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Constructor</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='k'>new</span> <span id='make'>make</span><span class='b'>(</span>DocCompiler compiler<span class='b'>)</span> <span class='b'>{</span> <span class='k'>this</span>.compiler = compiler <span class='b'>}</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// DocCompilerSupport</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='k'>override</span> DocCompiler <span id='compiler'>compiler</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Access</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Given a fandoc uri string, map it to a relative URL</span>
  <span class='z'>** to the resource's HTML by setting targetUri, targetIsCode</span>
  <span class='z'>** and targetIsSlot fields.  If the URI cannot be mapped</span>
  <span class='z'>** then an error is logged.</span>
  <span class='z'>**</span>
  Uri <span id='map'>map</span><span class='b'>(</span>Str fandocUri, Loc loc<span class='b'>)</span>
  <span class='b'>{</span>
    <span class='k'>this</span>.fandocUri    = fandocUri
    <span class='k'>this</span>.loc          = loc
    <span class='k'>this</span>.frag         = <span class='k'>null</span>
    <span class='k'>this</span>.targetUri    = <span class='k'>null</span>
    <span class='k'>this</span>.targetIsCode = <span class='k'>false</span>
    <span class='k'>this</span>.targetIsSlot = <span class='k'>false</span>

    <span class='y'>// if document internal fragment identifer then</span>
    <span class='y'>// bail now before we do any work or use our cache</span>
    <span class='y'>// which spans all the documents in the current pod</span>
    <span class='y'>// reset working fields</span>
    <span class='k'>if</span> <span class='b'>(</span>fandocUri.startsWith<span class='b'>(</span><span class='s'>"#"</span><span class='b'>))</span>
      <span class='k'>return</span> targetUri = Uri.fromStr<span class='b'>(</span>fandocUri<span class='b'>)</span>

    <span class='y'>// if absolute then bail</span>
    <span class='k'>if</span> <span class='b'>(</span>fandocUri.startsWith<span class='b'>(</span><span class='s'>"http:"</span><span class='b'>)</span>  ||
        fandocUri.startsWith<span class='b'>(</span><span class='s'>"https:"</span><span class='b'>)</span> ||
        fandocUri.startsWith<span class='b'>(</span><span class='s'>"ftp:"</span><span class='b'>)</span>   ||
        fandocUri.startsWith<span class='b'>(</span><span class='s'>"mailto:"</span><span class='b'>))</span>
      <span class='k'>return</span> targetUri = Uri.fromStr<span class='b'>(</span>fandocUri<span class='b'>)</span>

    <span class='y'>// check the cache</span>
    cached := cache<span class='b'>[</span>fandocUri<span class='b'>]</span>
    <span class='k'>if</span> <span class='b'>(</span>cached != <span class='k'>null</span><span class='b'>)</span>
    <span class='b'>{</span>
      targetUri    = cached.targetUri
      targetIsCode = cached.targetIsCode
      <span class='k'>return</span> targetUri
    <span class='b'>}</span>

    <span class='y'>// strip off fragment if specified</span>
    pound := fandocUri.index<span class='b'>(</span><span class='s'>"#"</span><span class='b'>)</span>
    <span class='k'>if</span> <span class='b'>(</span>pound != <span class='k'>null</span><span class='b'>)</span>
    <span class='b'>{</span>
      <span class='y'>// if URI is to frag within doc we are done</span>
      <span class='k'>if</span> <span class='b'>(</span>pound == 0<span class='b'>)</span> <span class='k'>return</span> targetUri = Uri.fromStr<span class='b'>(</span>fandocUri<span class='b'>)</span>

      <span class='y'>// split off fragment identifier</span>
      <span class='k'>this</span>.fandocUri = fandocUri<span class='b'>[</span>0..&lt;pound<span class='b'>]</span>
      <span class='k'>this</span>.frag = fandocUri<span class='b'>[</span>pound+1..-1<span class='b'>]</span>
    <span class='b'>}</span>

    <span class='y'>// map</span>
    <span class='k'>try</span>
    <span class='b'>{</span>
      targetUri = doMap<span class='b'>(</span>fandocUri, loc<span class='b'>)</span>
      <span class='k'>if</span> <span class='b'>(</span>targetUri == <span class='k'>null</span><span class='b'>)</span>
      <span class='b'>{</span>
        errReport<span class='b'>(</span>CompilerErr<span class='b'>(</span><span class='s'>"Cannot map uri '$fandocUri'"</span>, loc<span class='b'>))</span>
        targetUri = fandocUri.toUri
      <span class='b'>}</span>

      <span class='y'>// cache for next time</span>
      <span class='k'>if</span> <span class='b'>(</span>!targetIsSlot<span class='b'>)</span>
        cache<span class='b'>[</span>fandocUri<span class='b'>]</span> = CachedUri<span class='b'>(</span>targetUri, targetIsCode<span class='b'>)</span>
    <span class='b'>}</span>
    <span class='k'>catch</span> <span class='b'>(</span>CompilerErr e<span class='b'>)</span>
    <span class='b'>{</span>
      targetUri = fandocUri.toUri
    <span class='b'>}</span>
    <span class='k'>catch</span> <span class='b'>(</span>Err e<span class='b'>)</span>
    <span class='b'>{</span>
      errReport<span class='b'>(</span>CompilerErr<span class='b'>(</span><span class='s'>"Cannot map uri '$fandocUri'"</span>, loc, e<span class='b'>))</span>
      targetUri = fandocUri.toUri
    <span class='b'>}</span>

    <span class='y'>// return result</span>
    <span class='k'>return</span> targetUri
  <span class='b'>}</span>

  <span class='z'>**</span>
  <span class='z'>** Given a fandoc uri string, map it to a relative URL to the</span>
  <span class='z'>** resource's HTML or return null if it cannot be mapped.</span>
  <span class='z'>** If the fandocUri should be formatted as using a code font</span>
  <span class='z'>** then set `targetIsCode`.</span>
  <span class='z'>**</span>
  <span class='k'>virtual</span> Uri? <span id='doMap'>doMap</span><span class='b'>(</span>Str fandocUri, Loc loc<span class='b'>)</span>
  <span class='b'>{</span>
    <span class='k'>if</span> <span class='b'>(</span>fandocUri.contains<span class='b'>(</span><span class='s'>"::"</span><span class='b'>))</span>
      mapPod
    <span class='k'>else</span> <span class='k'>if</span> <span class='b'>(</span>compiler.pod != <span class='k'>null</span><span class='b'>)</span>
      mapTypeOrFile<span class='b'>(</span>compiler.pod, <span class='k'>this</span>.fandocUri<span class='b'>)</span>
    <span class='k'>return</span> targetUri
  <span class='b'>}</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Map</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='k'>private</span> Void <span id='mapPod'>mapPod</span><span class='b'>()</span>
  <span class='b'>{</span>
    <span class='y'>// lookup pod</span>
    colons := fandocUri.index<span class='b'>(</span><span class='s'>"::"</span><span class='b'>)</span>
    podName := fandocUri<span class='b'>[</span>0..&lt;colons<span class='b'>]</span>

    <span class='y'>// handle examples specially</span>
    <span class='k'>if</span> <span class='b'>(</span>podName == <span class='s'>"examples"</span><span class='b'>)</span>
    <span class='b'>{</span>
      targetUri = mapExample<span class='b'>(</span>fandocUri<span class='b'>[</span>colons+2..-1<span class='b'>])</span>
      targetIsCode = <span class='k'>false</span>
      <span class='k'>return</span>
    <span class='b'>}</span>

    pod := Pod.find<span class='b'>(</span>podName, <span class='k'>false</span><span class='b'>)</span>
    <span class='k'>if</span> <span class='b'>(</span>pod == <span class='k'>null</span><span class='b'>)</span> <span class='k'>throw</span> err<span class='b'>(</span><span class='s'>"Unknown pod '$podName'"</span>, loc<span class='b'>)</span>

    rest := fandocUri<span class='b'>[</span>colons+2..-1<span class='b'>]</span>
    mapTypeOrFile<span class='b'>(</span>pod, rest<span class='b'>)</span>
  <span class='b'>}</span>

  <span class='k'>private</span> Uri <span id='mapExample'>mapExample</span><span class='b'>(</span>Str file<span class='b'>)</span>
  <span class='b'>{</span>
    <span class='k'>if</span> <span class='b'>(</span>file == <span class='s'>"index"</span><span class='b'>)</span> <span class='k'>return</span> <span class='u'>`../examples/index.html`</span>

    <span class='y'>// for now just assume examples maps to source path</span>
    dash := file.index<span class='b'>(</span><span class='s'>"-"</span><span class='b'>)</span>
    <span class='k'>if</span> <span class='b'>(</span>dash == <span class='k'>null</span><span class='b'>)</span> <span class='k'>throw</span> err<span class='b'>(</span><span class='s'>"Invalid example script '$file'"</span>, loc<span class='b'>)</span>
    n1 := file<span class='b'>[</span>0..&lt;dash<span class='b'>]</span>
    n2 := file<span class='b'>[</span>dash+1..-1<span class='b'>]</span>
    f := Env.cur.homeDir + <span class='u'>`examples/${n1}/${n2}.fan`</span>
    <span class='k'>if</span> <span class='b'>(</span>!f.exists<span class='b'>)</span> <span class='k'>throw</span> err<span class='b'>(</span><span class='s'>"Unknown example script $f"</span>, loc<span class='b'>)</span>
    <span class='k'>return</span> <span class='u'>`../examples/${file}.html`</span>
  <span class='b'>}</span>

  <span class='k'>private</span> Void <span id='mapTypeOrFile'>mapTypeOrFile</span><span class='b'>(</span>Pod pod, Str s<span class='b'>)</span>
  <span class='b'>{</span>
    typeName := s
    Str? rest := <span class='k'>null</span>

    <span class='k'>if</span> <span class='b'>(</span>s == <span class='s'>"index"</span><span class='b'>)</span>
    <span class='b'>{</span>
      targetUri = toUri<span class='b'>(</span>pod, <span class='s'>"index.html"</span>, frag<span class='b'>)</span>
      <span class='k'>return</span>
    <span class='b'>}</span>

    <span class='k'>if</span> <span class='b'>(</span>s == <span class='s'>"pod-doc"</span><span class='b'>)</span>
    <span class='b'>{</span>
      targetUri = toUri<span class='b'>(</span>pod, <span class='s'>"pod-doc.html"</span>, frag<span class='b'>)</span>
      <span class='k'>return</span>
    <span class='b'>}</span>

    dot := s.index<span class='b'>(</span><span class='s'>"."</span><span class='b'>)</span>
    <span class='k'>if</span> <span class='b'>(</span>dot != <span class='k'>null</span><span class='b'>)</span>
    <span class='b'>{</span>
      typeName = s<span class='b'>[</span>0..&lt;dot<span class='b'>]</span>
      rest = s<span class='b'>[</span>dot+1..-1<span class='b'>]</span>
    <span class='b'>}</span>
    <span class='k'>else</span> <span class='k'>if</span> <span class='b'>(</span>compiler.curType != <span class='k'>null</span><span class='b'>)</span>
    <span class='b'>{</span>
      <span class='y'>// if this string maps to a slot in the current</span>
      <span class='y'>// type being processes - then slot name trumps</span>
      t := compiler.curType
      slot := t.slot<span class='b'>(</span>s, <span class='k'>false</span><span class='b'>)</span>
      <span class='k'>if</span> <span class='b'>(</span>slot != <span class='k'>null</span><span class='b'>)</span>
      <span class='b'>{</span>
        targetIsSlot = <span class='k'>true</span>
        targetUri = toUri<span class='b'>(</span>slot.parent.pod, <span class='s'>"${slot.parent.name}.html"</span>, slot.name<span class='b'>)</span>
        <span class='k'>return</span>
      <span class='b'>}</span>
    <span class='b'>}</span>

    <span class='y'>// first try type in pod</span>
    t := pod.type<span class='b'>(</span>typeName, <span class='k'>false</span><span class='b'>)</span>
    <span class='k'>if</span> <span class='b'>(</span>t != <span class='k'>null</span><span class='b'>)</span>
    <span class='b'>{</span>
      mapSlot<span class='b'>(</span>t, rest<span class='b'>)</span>
      <span class='k'>return</span>
    <span class='b'>}</span>

    <span class='y'>// if dot ext, this must be a filename which we don't do yet</span>
    <span class='y'>// TODO: eventually we need we need a standard mechanism</span>
    <span class='y'>// to determine which resources to copy to the doc directory</span>
    <span class='y'>// probably under some specific dir, which we can map</span>
    <span class='k'>if</span> <span class='b'>(</span>rest != <span class='k'>null</span><span class='b'>)</span>
    <span class='b'>{</span>
      <span class='k'>if</span> <span class='b'>(</span>fandocUri.endsWith<span class='b'>(</span><span class='s'>".html"</span><span class='b'>))</span>
      <span class='b'>{</span>
        echo<span class='b'>(</span><span class='s'>"WARNING: Need to fix unresolved fandoc uri bug: $fandocUri"</span><span class='b'>)</span>
        targetUri = fandocUri.toUri
      <span class='b'>}</span>
      <span class='k'>else</span>
      <span class='b'>{</span>
        <span class='k'>throw</span> err<span class='b'>(</span><span class='s'>"Unresolved fandoc uri '$fandocUri'"</span>, loc<span class='b'>)</span>
      <span class='b'>}</span>
    <span class='b'>}</span>

    <span class='y'>// try to find fandoc file in pod</span>
    fandocFile := pod.files.find |File f-&gt;Bool|
    <span class='b'>{</span>
      <span class='k'>return</span> f.basename == typeName &amp;&amp; f.ext == <span class='s'>"fandoc"</span>
    <span class='b'>}</span>

    <span class='k'>if</span> <span class='b'>(</span>fandocFile == <span class='k'>null</span><span class='b'>)</span>
      <span class='k'>throw</span> err<span class='b'>(</span><span class='s'>"Unresolved fandoc uri '$fandocUri'"</span>, loc<span class='b'>)</span>

    <span class='y'>// if this a fragment identifier within the</span>
    <span class='y'>// fandoc file then check that it exists</span>
    <span class='k'>if</span> <span class='b'>(</span>frag != <span class='k'>null</span><span class='b'>)</span>
    <span class='b'>{</span>
      <span class='y'>// ensure we've parsed the fandoc file into memory</span>
      <span class='y'>// to create a table of all the fragment identifiers</span>
      <span class='k'>if</span> <span class='b'>(</span>fandocFrags<span class='b'>[</span>fandocUri<span class='b'>]</span> == <span class='k'>null</span><span class='b'>)</span>
        fandocFrags<span class='b'>[</span>fandocUri<span class='b'>]</span> = parseFandocFrags<span class='b'>(</span>fandocFile<span class='b'>)</span>

      <span class='y'>// check that the fragment exists</span>
      <span class='k'>if</span> <span class='b'>(</span>!fandocFrags<span class='b'>[</span>fandocUri<span class='b'>]</span>.frags.containsKey<span class='b'>(</span>frag<span class='b'>))</span>
        <span class='k'>throw</span> err<span class='b'>(</span><span class='s'>"Unknown fragment '#$frag' in '$fandocUri'"</span>, loc<span class='b'>)</span>
    <span class='b'>}</span>

    <span class='y'>// we can now build our uri</span>
    targetUri = toUri<span class='b'>(</span>pod, <span class='s'>"${fandocFile.basename}.html"</span>, frag<span class='b'>)</span>
  <span class='b'>}</span>

  <span class='k'>private</span> Void <span id='mapSlot'>mapSlot</span><span class='b'>(</span>Type t, Str? rest<span class='b'>)</span>
  <span class='b'>{</span>
    targetIsCode = <span class='k'>true</span>
    Str? slotFrag := <span class='k'>null</span>

    <span class='y'>// if rest it must be a slot name</span>
    <span class='k'>if</span> <span class='b'>(</span>rest != <span class='k'>null</span><span class='b'>)</span>
    <span class='b'>{</span>
      slot := t.slot<span class='b'>(</span>rest, <span class='k'>false</span><span class='b'>)</span>
      <span class='k'>if</span> <span class='b'>(</span>slot == <span class='k'>null</span><span class='b'>)</span>
        <span class='k'>throw</span> err<span class='b'>(</span><span class='s'>"Unresolved uri to slot '${t.qname}.$rest'"</span>, loc<span class='b'>)</span>
      <span class='k'>if</span> <span class='b'>(</span>slot.parent != t<span class='b'>)</span>
        <span class='k'>throw</span> err<span class='b'>(</span><span class='s'>"Uri to inherited slot '${t.qname}.$rest' is declared on '$slot.parent'"</span>, loc<span class='b'>)</span>
      slotFrag = slot.name
      targetIsSlot = <span class='k'>true</span>
    <span class='b'>}</span>

    targetUri = toUri<span class='b'>(</span>t.pod, <span class='s'>"${t.name}.html"</span>, slotFrag<span class='b'>)</span>
  <span class='b'>}</span>

  <span class='k'>private</span> Uri <span id='toUri'>toUri</span><span class='b'>(</span>Pod pod, Str uri, Str? frag<span class='b'>)</span>
  <span class='b'>{</span>
    <span class='k'>if</span> <span class='b'>(</span>pod != compiler.pod<span class='b'>)</span> uri = <span class='s'>"../$pod.name/"</span> + uri
    <span class='k'>if</span> <span class='b'>(</span>frag != <span class='k'>null</span><span class='b'>)</span> uri = uri + <span class='s'>"#"</span> + frag
    <span class='k'>return</span> Uri.fromStr<span class='b'>(</span>uri<span class='b'>)</span>
  <span class='b'>}</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// FandocFrag Parse</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='k'>private</span> FandocFrags <span id='parseFandocFrags'>parseFandocFrags</span><span class='b'>(</span>File f<span class='b'>)</span>
  <span class='b'>{</span>
    <span class='k'>try</span>
    <span class='b'>{</span>
      log.debug<span class='b'>(</span><span class='s'>"    Parse fandoc frag [$fandocUri]"</span><span class='b'>)</span>
      docFrags := FandocFrags.make
      f.readAllLines.each |Str line|
      <span class='b'>{</span>
        x := line.index<span class='b'>(</span><span class='s'>"[#"</span><span class='b'>)</span>
        <span class='k'>if</span> <span class='b'>(</span>x != <span class='k'>null</span><span class='b'>)</span>
        <span class='b'>{</span>
          y := line.index<span class='b'>(</span><span class='s'>"]"</span>, x<span class='b'>)</span>
          <span class='k'>if</span> <span class='b'>(</span>y != <span class='k'>null</span><span class='b'>)</span>
          <span class='b'>{</span>
            frag := line<span class='b'>[</span>x+2..&lt;y<span class='b'>]</span>
            docFrags.frags<span class='b'>[</span>frag<span class='b'>]</span> = frag
          <span class='b'>}</span>
        <span class='b'>}</span>
      <span class='b'>}</span>
      <span class='k'>return</span> docFrags
    <span class='b'>}</span>
    <span class='k'>catch</span> <span class='b'>(</span>Err e<span class='b'>)</span>
    <span class='b'>{</span>
      e.trace
      <span class='k'>throw</span> err<span class='b'>(</span><span class='s'>"Cannot parse fandoc file for fragments: $f"</span>, loc<span class='b'>)</span>
    <span class='b'>}</span>
  <span class='b'>}</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Fields</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  Str? <span id='fandocUri'>fandocUri</span>
  Str? <span id='frag'>frag</span>
  Loc? <span id='loc'>loc</span>
  Uri? <span id='targetUri'>targetUri</span>
  Bool <span id='targetIsCode'>targetIsCode</span>
  Bool <span id='targetIsSlot'>targetIsSlot</span>
  <span class='k'>internal</span> Str:CachedUri <span id='cache'>cache</span> := Str:CachedUri<span class='b'>[</span>:<span class='b'>]</span>
  <span class='k'>internal</span> Str:FandocFrags <span id='fandocFrags'>fandocFrags</span> := Str:FandocFrags<span class='b'>[</span>:<span class='b'>]</span>
<span class='b'>}</span>

<span class='k'>internal</span> <span class='k'>class</span> CachedUri
<span class='b'>{</span>
  <span class='k'>new</span> make<span class='b'>(</span>Uri uri, Bool isCode<span class='b'>)</span>
  <span class='b'>{</span>
    targetUri    = uri
    targetIsCode = isCode
  <span class='b'>}</span>

  Uri targetUri
  Bool targetIsCode
<span class='b'>}</span>

<span class='k'>internal</span> <span class='k'>class</span> FandocFrags
<span class='b'>{</span>
  Str:Str frags := Str:Str<span class='b'>[</span>:<span class='b'>]</span>
<span class='b'>}</span></pre>
</div>
</div>
<div class='sidebar'>
<h2>More Info</h2>
<ul class='clean'>
  <li><a href='UriMapper.html'>View Fandoc</a></li>
</ul>
<div class='slots'>
<div class='overview'>
<h2>Slots</h2>
<ul class='clean'>
  <li class='hidden' style='display: block;'><a href='#cache'>cache</a></li>
  <li style='display: block;'><a href='#compiler'>compiler</a></li>
  <li style='display: block;'><a href='#doMap'>doMap</a></li>
  <li class='hidden' style='display: block;'><a href='#fandocFrags'>fandocFrags</a></li>
  <li style='display: block;'><a href='#fandocUri'>fandocUri</a></li>
  <li style='display: block;'><a href='#frag'>frag</a></li>
  <li style='display: block;'><a href='#loc'>loc</a></li>
  <li style='display: block;'><a href='#make'>make</a></li>
  <li style='display: block;'><a href='#map'>map</a></li>
  <li class='hidden' style='display: block;'><a href='#mapExample'>mapExample</a></li>
  <li class='hidden' style='display: block;'><a href='#mapPod'>mapPod</a></li>
  <li class='hidden' style='display: block;'><a href='#mapSlot'>mapSlot</a></li>
  <li class='hidden' style='display: block;'><a href='#mapTypeOrFile'>mapTypeOrFile</a></li>
  <li class='hidden' style='display: block;'><a href='#parseFandocFrags'>parseFandocFrags</a></li>
  <li style='display: block;'><a href='#targetIsCode'>targetIsCode</a></li>
  <li style='display: block;'><a href='#targetIsSlot'>targetIsSlot</a></li>
  <li style='display: block;'><a href='#targetUri'>targetUri</a></li>
  <li class='hidden' style='display: block;'><a href='#toUri'>toUri</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='footer'>
<div>
<p>
docCompiler 1.0.56
[11-Nov-2010 Thu 10:08:23AM EST]
</p>
</div>
</div>
</body>
</html>
