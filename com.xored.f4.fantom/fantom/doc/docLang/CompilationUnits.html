<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>Compilation Units</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../doc.css'/>
  <script type='text/javascript' src='../doc.js'></script>
<!--[if lt IE 7]>
<script src='http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js' type='text/javascript'></script>
<![endif]-->
</head>
<body onload='Login.check();'>
<div class='header'>
<div>
<h1><a href='/'>Fantom</a></h1>
<p id='sidewalkLogin_'>&nbsp;</p>
<form method='get' action='/sidewalk/search/'>
<p>
<input type='text' name='q' size='30' value='Search...' onfocus='if (value=="Search...") value=""' onblur='if (value=="") value="Search..."' />
</p>
</form>
<ul>
<li><a href='/'>Home</a></li>
<li class='active'><a href='../index.html'>Docs</a></li>
<li><a href='/sidewalk/blog/'>Blog</a></li>
<li><a href='/sidewalk/ticket/'>Tickets</a></li>
<li><a href='/sidewalk/topic/'>Discuss</a></li>
</ul></div>
</div>
<div class='subHeader'>
<div>
<ul>
  <li><a href='../index.html'>Doc Home</a></li>
  <li>&gt;</li>
  <li><a href='index.html'>docLang</a></li>
  <li>&gt;</li>
  <li><a href='CompilationUnits.html'>Compilation Units</a></li>
</ul>
</div>
</div>
<div class='content'>
<div>
<div class='fandoc'>
<div class='prevNext'>
<div class='prev'><a href='TypeSystem.html'><img src='../go-previous.png' alt='prev' /></a> <a href='TypeSystem.html'>Type System</a></div>
<div class='next'><a href='Pods.html'>Pods</a> <a href='Pods.html'><img src='../go-next.png' alt='next' /></a></div>
</div>
<h1 class='title'>Compilation Units</h1>

<h1 id='organization'>Organization </h1>

<p>Fantom source code for pods is organized into one or more directories on the file system.  By convention the source tree of a pod is structured as follows:</p>

<pre>podxyz/
  +- fan/       // ".fan" source files
  +- java/      // ".java" Java native peers
  +- dotnet/    // ".cs" C# native peers
  +- res/       // resources to bundle with pod
  +- test/      // ".fan" unit tests
  +- build.fan  // build script for pod</pre>

<p>Each of those directories may contain arbitrary sub-directories under it, although it is not required.</p>

<p>Fantom source code is stored in plain text files using a ".fan" extension.  Each source file can contain one or more <a href='Classes.html'>class</a> or <a href='Mixins.html'>mixin</a> definitions.  Unlike Java, there is no restriction that each type must be in its own source file.  Although by convention we put each class into a source file with a matching name.  However if you have lots of little classes, then it is best to combine them intelligently.</p>

<h1 id='charEncoding'>Char Encoding </h1>

<p>There is only one simple rule to follow - all Fantom source files must be in UTF-8 encoding.  Even better, if you want to ensure that your source code is drop-dead easy to use in any editor then use standard 7-bit ASCII characters (which is a clean subset of UTF-8).  End of story, enough said.</p>

<h1 id='anatomy'>Anatomy of Source File </h1>

<p>Compiler writers like to use the fancy term <em>compilation unit</em> to describe the text of a source file.  A compilation unit has a pretty simple structure:</p>

<ol style='list-style-type:decimal'>
<li>Zero or more <code>using</code> statements</li>

<li>One or more type definitions</li>
</ol>

<p>The <a href='#using'>using</a> statements import types from external pods into the compilation unit's namespace.  The type definitions are the actual classes and mixins.</p>

<h1 id='using'>Using </h1>

<p>Every compilation unit can specify zero or more <code>using</code> statements to import types into the unit's namespace.  Importing types into the namespace lets you use simple type names in your <a href='TypeSystem.html#signatures'>type signatures</a> instead of qualified names.</p>

<p>The simplest form of the <code>using</code> statement is to import <em>all</em> the types of a pod into your namespace:</p>

<pre>using inet</pre>

<p>The statement above allows you to use any type defined in the <code>inet</code> pod via its simple name.  For example the simple type name <code>TcpSocket</code> will now resolve to <code>inet::TcpSocket</code>.</p>

<p>We can also import a single type into the namespace.  For example to just import <code>inet::TcpSocket</code> without importing all the other types from the <code>inet</code> pod we use this syntax:</p>

<pre>using inet::TcpSocket</pre>

<p>In large scale projects it is inevitable that two different pods will reuse the same type name.  If we need to use both types in a compilation unit, then we could use the qualified name - although it can be a bit verbose.  Another option is to use the <code>using as</code> statement.  For example, given a naming collision between <code>red::Foo</code> and <code>blue::Foo</code>, we can import <code>blue::Foo</code> as <code>BlueFoo</code> with this syntax:</p>

<pre>using blue::Foo as BlueFoo</pre>

<p>The <code>using as</code> statement is for naming collisions - don't use it for bone-headed things like importing <code>sys::Str</code> as <code>S</code> (we've tried to keep key type names short to being with).</p>

<p>The <code>sys</code> pod is automatically imported into every compilation unit - in fact it is a compiler error if you try to import <code>sys</code> explicitly.</p>

<h1 id='comments'>Comments </h1>

<p>Fantom supports three styles of comments:</p>

<ul>
<li><code>/* */</code> block comments are used to comment out a block of text which can span multiple lines.  You can nest <code>/* */</code> comments as a handy way to comment out large sections of code</li>

<li><code>//</code> end of line comments ignore everything to the end of the line</li>

<li><code>**</code> fandoc comments</li>
</ul>

<p>The <code>**</code> comment is used for documentation.  Like <code>//</code> comments, it comments everything to the end of the line.  Fandoc comments are similar to <code>/** */</code> Javadoc or <code>///</code> C# documentation comments.  You prefix one more lines of <code>**</code> comments to specify the documentation for a type or slot definition:</p>

<pre>** This class is really cool
class Cool
{
  ** When you gotta just do it!
  Void justDoIt() {}
}</pre>

<p>The documentation is written in plain text using a special set of rules for structure called <a href='../fandoc/pod-doc.html'>fandoc</a>.  Fandoc allows you to write documentation that looks good in plain text source files, but can be translated into other formats such as nicely formatted HTML.</p>
<div class='prevNext'>
<div class='prev'><a href='TypeSystem.html'><img src='../go-previous.png' alt='prev' /></a> <a href='TypeSystem.html'>Type System</a></div>
<div class='next'><a href='Pods.html'>Pods</a> <a href='Pods.html'><img src='../go-next.png' alt='next' /></a></div>
</div>
</div>
<div class='sidebar'>
<h2>Contents</h2>
<ul>
<li><a href='#organization'>Organization </a></li><li><a href='#charEncoding'>Char Encoding </a></li><li><a href='#anatomy'>Anatomy of Source File </a></li><li><a href='#using'>Using </a></li><li><a href='#comments'>Comments </a></li></ul>
</div>
</div>
</div>
<div class='footer'>
<div>
<p>
docLang 1.0.56
[11-Nov-2010 Thu 10:08:28AM EST]
</p>
</div>
</div>
</body>
</html>
