<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>web::Cookie</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../doc.css'/>
  <script type='text/javascript' src='../doc.js'></script>
<!--[if lt IE 7]>
<script src='http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js' type='text/javascript'></script>
<![endif]-->
</head>
<body onload='Login.check();'>
<div class='header'>
<div>
<h1><a href='/'>Fantom</a></h1>
<p id='sidewalkLogin_'>&nbsp;</p>
<form method='get' action='/sidewalk/search/'>
<p>
<input type='text' name='q' size='30' value='Search...' onfocus='if (value=="Search...") value=""' onblur='if (value=="") value="Search..."' />
</p>
</form>
<ul>
<li><a href='/'>Home</a></li>
<li class='active'><a href='../index.html'>Docs</a></li>
<li><a href='/sidewalk/blog/'>Blog</a></li>
<li><a href='/sidewalk/ticket/'>Tickets</a></li>
<li><a href='/sidewalk/topic/'>Discuss</a></li>
</ul></div>
</div>
<div class='subHeader'>
<div>
<ul>
  <li><a href='../index.html'>Doc Home</a></li>
  <li>&gt;</li>
  <li><a href='index.html'>web</a></li>
  <li>&gt;</li>
  <li><a href='Cookie.html'>Cookie</a></li>
</ul>
</div>
</div>
<div class='content'>
<div>
<div class='fandoc'>
<div class='type'>
<div class='overview'>
<h2>const class</h2>
<h1>web::Cookie</h1>
<pre><a href='../sys/Obj.html'>sys::Obj</a>
  web::Cookie</pre>
</div>
<p><code class='sig'>@<a href='../sys/Js.html'>Js</a> <br/>
</code></p>
<div class='detail'>

<p>Cookie models an HTTP cookie used to pass data between the server and brower as defined by the original Netscape cookie specification and RFC 2109.  Note the newer RFC 2965 is unsupported by most browsers, and even 2109 isn't really supported by some of the major browsers. See <code><a href='WebReq.html#cookies'>WebReq.cookies</a></code> and <code><a href='WebRes.html#cookies'>WebRes.cookies</a></code>.</p>
</div>
</div>
<div class='slots'>
<div class='detail'>
<h2>Slots</h2>
<dl>
<dt id='domain' class='field'>domain<a href='Cookie_src.html#domain'>Source</a></dt>
<dd>
<p><code class='sig'>const <a href='../sys/Str.html'>Str</a>? domain</code></p>

<p>Specifies the domain for which the cookie is valid. An explicit domain must always start with a dot.  If null (the default) then the cookie only applies to the server which set it.</p>
</dd>
<dt id='fromStr' class='method'>fromStr<a href='Cookie_src.html#fromStr'>Source</a></dt>
<dd>
<p><code class='sig'>static <a href='Cookie.html'>Cookie</a> fromStr(<a href='../sys/Str.html'>Str</a> s)</code></p>

<p>Parse a HTTP cookie header name/value pair. Throw ParseErr if not formatted correctly.</p>
</dd>
<dt id='make' class='method'>make<a href='Cookie_src.html#make'>Source</a></dt>
<dd>
<p><code class='sig'>new make(<a href='../sys/Str.html'>Str</a> name, <a href='../sys/Str.html'>Str</a> val, |<a href='../sys/This.html'>This</a>|? f := null)</code></p>

<p>Construct with name and value.  The name must be a valid HTTP token and must not start with "$" (see <code><a href='WebUtil.html#isToken'>WebUtil.isToken</a></code>). The value string must be an ASCII string within the inclusive range of 0x20 and 0x7e (see <code><a href='WebUtil.html#toQuotedStr'>WebUtil.toQuotedStr</a></code>) with the exception of the semicolon.</p>

<p>Fantom cookies will use quoted string values, however some browsers such as IE won't parse a quoted string with semicolons correctly, so we make semicolons illegal.  If you have a value which might include non-ASCII characters or semicolons, then consider encoding using something like Base64:</p>

<pre>// write response
res.cookies.add(Cookie("baz", val.toBuf.toBase64))

// read from request
val := Buf.fromBase64(req.cookies.get("baz", "")).readAllStr</pre>
</dd>
<dt id='maxAge' class='field'>maxAge<a href='Cookie_src.html#maxAge'>Source</a></dt>
<dd>
<p><code class='sig'>const <a href='../sys/Duration.html'>Duration</a>? maxAge</code></p>

<p>Defines the lifetime of the cookie, after the the max-age elapses the client should discard the cookie.  The duration is floored to seconds (fractional seconds are truncated). If maxAge is null (the default) then the  cookie persists until the client is shutdown.  If zero is specified, the cookie is discarded immediately.  Note that many browsers still don't recognize max-age, so setting max-age also always includes an expires attribute.</p>
</dd>
<dt id='name' class='field'>name<a href='Cookie_src.html#name'>Source</a></dt>
<dd>
<p><code class='sig'>const <a href='../sys/Str.html'>Str</a> name</code></p>

<p>Name of the cookie.</p>
</dd>
<dt id='path' class='field'>path<a href='Cookie_src.html#path'>Source</a></dt>
<dd>
<p><code class='sig'>const <a href='../sys/Str.html'>Str</a>? path := "/"</code></p>

<p>Specifies the subset of URLs to which the cookie applies. If set to "/" (the default), then the cookie applies to all paths.  If the path is null, it as assumed to be the same path as the document being described by the header which contains the cookie.</p>
</dd>
<dt id='secure' class='field'>secure<a href='Cookie_src.html#secure'>Source</a></dt>
<dd>
<p><code class='sig'>const <a href='../sys/Bool.html'>Bool</a> secure := false</code></p>

<p>If true, then the client only sends this cookie using a secure protocol such as HTTPS.  Defaults to false.</p>
</dd>
<dt id='toStr' class='method'>toStr<a href='Cookie_src.html#toStr'>Source</a></dt>
<dd>
<p><code class='sig'>override <a href='../sys/Str.html'>Str</a> toStr()</code></p>
<div class='slotInfo'>
<p>Overrides <a href='../sys/Obj.html#toStr'>sys::Obj.toStr</a></p>
</div>

<p>Return the cookie formatted as an HTTP header.</p>
</dd>
<dt id='val' class='field'>val<a href='Cookie_src.html#val'>Source</a></dt>
<dd>
<p><code class='sig'>const <a href='../sys/Str.html'>Str</a> val</code></p>

<p>Value string of the cookie.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class='sidebar'>
<h2>Type</h2>
<ul class='clean'>
  <li><a href='Cookie_src.html'>View Source</a></li>
  <li><a href='#' onclick='ShowSlots.toggle(event); return false;'>Show All Slots</a></li>
</ul>
<div class='slots'>
<div class='overview'>
<h2>Slots</h2>
<ul class='clean'>
  <li><a href='#domain'>domain</a></li>
  <li><a href='#fromStr'>fromStr</a></li>
  <li><a href='#make'>make</a></li>
  <li><a href='#maxAge'>maxAge</a></li>
  <li><a href='#name'>name</a></li>
  <li><a href='#path'>path</a></li>
  <li><a href='#secure'>secure</a></li>
  <li><a href='#toStr'>toStr</a></li>
  <li><a href='#val'>val</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='footer'>
<div>
<p>
web 1.0.56
[11-Nov-2010 Thu 10:08:20AM EST]
</p>
</div>
</div>
</body>
</html>
