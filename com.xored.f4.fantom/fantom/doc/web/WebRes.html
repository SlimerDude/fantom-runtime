<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>web::WebRes</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../doc.css'/>
  <script type='text/javascript' src='../doc.js'></script>
<!--[if lt IE 7]>
<script src='http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js' type='text/javascript'></script>
<![endif]-->
</head>
<body onload='Login.check();'>
<div class='header'>
<div>
<h1><a href='/'>Fantom</a></h1>
<p id='sidewalkLogin_'>&nbsp;</p>
<form method='get' action='/sidewalk/search/'>
<p>
<input type='text' name='q' size='30' value='Search...' onfocus='if (value=="Search...") value=""' onblur='if (value=="") value="Search..."' />
</p>
</form>
<ul>
<li><a href='/'>Home</a></li>
<li class='active'><a href='../index.html'>Docs</a></li>
<li><a href='/sidewalk/blog/'>Blog</a></li>
<li><a href='/sidewalk/ticket/'>Tickets</a></li>
<li><a href='/sidewalk/topic/'>Discuss</a></li>
</ul></div>
</div>
<div class='subHeader'>
<div>
<ul>
  <li><a href='../index.html'>Doc Home</a></li>
  <li>&gt;</li>
  <li><a href='index.html'>web</a></li>
  <li>&gt;</li>
  <li><a href='WebRes.html'>WebRes</a></li>
</ul>
</div>
</div>
<div class='content'>
<div>
<div class='fandoc'>
<div class='type'>
<div class='overview'>
<h2>abstract class</h2>
<h1>web::WebRes</h1>
<pre><a href='../sys/Obj.html'>sys::Obj</a>
  web::WebRes</pre>
</div>
<div class='detail'>

<p>WebRes encapsulates a response to a web request.</p>

<p>See <a href='pod-doc.html#webRes'>pod doc</a></p>
</div>
</div>
<div class='slots'>
<div class='detail'>
<h2>Slots</h2>
<dl>
<dt id='cookies' class='method'>cookies<a href='WebRes_src.html#cookies'>Source</a></dt>
<dd>
<p><code class='sig'>abstract <a href='Cookie.html'>Cookie</a>[] cookies()</code></p>

<p>Get the list of cookies to set via header fields.  Add a a Cookie to this list to set a cookie.  Throw an err if response is already committed.</p>

<p>Example:</p>

<pre>res.cookies.add(Cookie("foo", "123"))
res.cookies.add(Cookie("persistent", "some val") { maxAge = 3day })</pre>
</dd>
<dt id='done' class='method'>done<a href='WebRes_src.html#done'>Source</a></dt>
<dd>
<p><code class='sig'>abstract <a href='../sys/Void.html'>Void</a> done()</code></p>

<p>Done is called to indicate that that response is complete to terminate pipeline processing.</p>
</dd>
<dt id='headers' class='method'>headers<a href='WebRes_src.html#headers'>Source</a></dt>
<dd>
<p><code class='sig'>abstract <a href='../sys/Str.html'>Str</a>:<a href='../sys/Str.html'>Str</a> headers()</code></p>

<p>Map of HTTP response headers.  You must set all headers before you access out() for the first time, which commits the response. Throw an err if response is already committed.</p>
</dd>
<dt id='isCommitted' class='method'>isCommitted<a href='WebRes_src.html#isCommitted'>Source</a></dt>
<dd>
<p><code class='sig'>abstract <a href='../sys/Bool.html'>Bool</a> isCommitted()</code></p>

<p>Return true if this response has been commmited.  A committed response has written its response headers, and can no longer modify its status code or headers.  A response is committed the first time that <a href='WebRes.html#out'>out</a> is called.</p>
</dd>
<dt id='isDone' class='method'>isDone<a href='WebRes_src.html#isDone'>Source</a></dt>
<dd>
<p><code class='sig'>abstract <a href='../sys/Bool.html'>Bool</a> isDone()</code></p>

<p>Return if this response is complete - see <a href='WebRes.html#done'>done</a>.</p>
</dd>
<dt id='out' class='method'>out<a href='WebRes_src.html#out'>Source</a></dt>
<dd>
<p><code class='sig'>abstract <a href='WebOutStream.html'>WebOutStream</a> out()</code></p>

<p>Return the WebOutStream for this response.  The first time this method is accessed the response is committed: all headers currently set will be written to the stream, and can no longer be modified.  If the "Content-Length" header defines a fixed number of bytes, then attemps to write too many bytes will throw an IOErr.  If "Content-Length" is not defined, then a chunked transfer encoding is automatically used.</p>
</dd>
<dt id='redirect' class='method'>redirect<a href='WebRes_src.html#redirect'>Source</a></dt>
<dd>
<p><code class='sig'>abstract <a href='../sys/Void.html'>Void</a> redirect(<a href='../sys/Uri.html'>Uri</a> uri, <a href='../sys/Int.html'>Int</a> statusCode := 303)</code></p>

<p>Send a redirect response to the client using the specified status code and url.  If this response has already been committed this method throws an Err.  This method implicitly calls <a href='WebRes.html#done'>done</a>.</p>
</dd>
<dt id='sendErr' class='method'>sendErr<a href='WebRes_src.html#sendErr'>Source</a></dt>
<dd>
<p><code class='sig'>abstract <a href='../sys/Void.html'>Void</a> sendErr(<a href='../sys/Int.html'>Int</a> statusCode, <a href='../sys/Str.html'>Str</a>? msg := null)</code></p>

<p>Send an error response to client using the specified status and HTML formatted message.  If this response has already been committed this method throws an Err.  If the server has a preconfigured page for this error code, it will trump the message passed in. This method implicitly calls <a href='WebRes.html#done'>done</a>.</p>
</dd>
<dt id='statusCode' class='field'>statusCode<a href='WebRes_src.html#statusCode'>Source</a></dt>
<dd>
<p><code class='sig'>abstract <a href='../sys/Int.html'>Int</a> statusCode</code></p>

<p>Get or set the HTTP status code for this response. Status code defaults to 200.  Throw an err if status code passed in is not recognized, or if the response has already been committed.</p>
</dd>
<dt id='statusMsg' class='field'>statusMsg<a href='WebRes_src.html#statusMsg'>Source</a></dt>
<dd>
<p><code class='sig'>const static <a href='../sys/Int.html'>Int</a>:<a href='../sys/Str.html'>Str</a> statusMsg := ...</code></p>

<p>Map of HTTP status codes to status messages.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class='sidebar'>
<h2>Type</h2>
<ul class='clean'>
  <li><a href='WebRes_src.html'>View Source</a></li>
  <li><a href='#' onclick='ShowSlots.toggle(event); return false;'>Show All Slots</a></li>
</ul>
<div class='slots'>
<div class='overview'>
<h2>Slots</h2>
<ul class='clean'>
  <li><a href='#cookies'>cookies</a></li>
  <li><a href='#done'>done</a></li>
  <li><a href='#headers'>headers</a></li>
  <li><a href='#isCommitted'>isCommitted</a></li>
  <li><a href='#isDone'>isDone</a></li>
  <li><a href='#out'>out</a></li>
  <li><a href='#redirect'>redirect</a></li>
  <li><a href='#sendErr'>sendErr</a></li>
  <li><a href='#statusCode'>statusCode</a></li>
  <li><a href='#statusMsg'>statusMsg</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='footer'>
<div>
<p>
web 1.0.56
[11-Nov-2010 Thu 10:08:20AM EST]
</p>
</div>
</div>
</body>
</html>
