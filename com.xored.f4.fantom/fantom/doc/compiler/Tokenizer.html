<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>compiler::Tokenizer</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../doc.css'/>
  <script type='text/javascript' src='../doc.js'></script>
<!--[if lt IE 7]>
<script src='http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js' type='text/javascript'></script>
<![endif]-->
</head>
<body onload='Login.check();'>
<div class='header'>
<div>
<h1><a href='/'>Fantom</a></h1>
<p id='sidewalkLogin_'>&nbsp;</p>
<form method='get' action='/sidewalk/search/'>
<p>
<input type='text' name='q' size='30' value='Search...' onfocus='if (value=="Search...") value=""' onblur='if (value=="") value="Search..."' />
</p>
</form>
<ul>
<li><a href='/'>Home</a></li>
<li class='active'><a href='../index.html'>Docs</a></li>
<li><a href='/sidewalk/blog/'>Blog</a></li>
<li><a href='/sidewalk/ticket/'>Tickets</a></li>
<li><a href='/sidewalk/topic/'>Discuss</a></li>
</ul></div>
</div>
<div class='subHeader'>
<div>
<ul>
  <li><a href='../index.html'>Doc Home</a></li>
  <li>&gt;</li>
  <li><a href='index.html'>compiler</a></li>
  <li>&gt;</li>
  <li><a href='Tokenizer.html'>Tokenizer</a></li>
</ul>
</div>
</div>
<div class='content'>
<div>
<div class='fandoc'>
<div class='type'>
<div class='overview'>
<h2>class</h2>
<h1>compiler::Tokenizer</h1>
<pre><a href='../sys/Obj.html'>sys::Obj</a>
  <a href='CompilerSupport.html'>compiler::CompilerSupport</a>
    compiler::Tokenizer</pre>
</div>
<div class='detail'>

<p>Tokenizer inputs a Str and output a list of Tokens</p>
</div>
</div>
<div class='slots'>
<div class='detail'>
<h2>Slots</h2>
<dl>
<dt id='buf' class='field hidden'>buf<a href='Tokenizer_src.html#buf'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Str.html'>Str</a> buf</code></p>
</dd>
<dt id='ch' class='method hidden'>ch<a href='Tokenizer_src.html#ch'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a> ch()</code></p>

<p>Parse a char literal token.</p>
</dd>
<dt id='col' class='field hidden'>col<a href='Tokenizer_src.html#col'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Int.html'>Int</a> col := 1</code></p>
</dd>
<dt id='consume' class='method hidden'>consume<a href='Tokenizer_src.html#consume'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Void.html'>Void</a> consume()</code></p>

<p>Consume the cur char and advance to next char in buffer:</p>

<ul>
<li>updates cur and peek fields</li>

<li>updates the line and col count</li>

<li>end of file, sets fields to 0</li>
</ul>
</dd>
<dt id='cur' class='field hidden'>cur<a href='Tokenizer_src.html#cur'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Int.html'>Int</a> cur</code></p>
</dd>
<dt id='docComment' class='method hidden'>docComment<a href='Tokenizer_src.html#docComment'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a>? docComment()</code></p>

<p>Parse a Javadoc style comment into a documentation comment token.</p>
</dd>
<dt id='dsl' class='method hidden'>dsl<a href='Tokenizer_src.html#dsl'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a> dsl()</code></p>

<p>Parse a domain specific language &lt;| ... |></p>
</dd>
<dt id='endOfQuoted' class='method hidden'>endOfQuoted<a href='Tokenizer_src.html#endOfQuoted'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Bool.html'>Bool</a> endOfQuoted(<a href='Quoted.html'>Quoted</a> q)</code></p>

<p>If at end of quoted literal consume the ending token(s) and return true.</p>
</dd>
<dt id='err' class='method'>err<a href='Tokenizer_src.html#err'>Source</a></dt>
<dd>
<p><code class='sig'>override <a href='CompilerErr.html'>CompilerErr</a> err(<a href='../sys/Str.html'>Str</a> msg, <a href='Loc.html'>Loc</a>? loc := null)</code></p>
<div class='slotInfo'>
<p>Overrides <a href='CompilerSupport.html#err'>compiler::CompilerSupport.err</a></p>
</div>

<p>Return a CompilerException for current location in source.</p>
</dd>
<dt id='escape' class='method'>escape<a href='Tokenizer_src.html#escape'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Int.html'>Int</a> escape()</code></p>

<p>Parse an escapse sequence which starts with a \</p>
</dd>
<dt id='filename' class='field hidden'>filename<a href='Tokenizer_src.html#filename'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Str.html'>Str</a> filename</code></p>
</dd>
<dt id='find' class='method hidden'>find<a href='Tokenizer_src.html#find'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a>? find()</code></p>

<p>Find the next token or return null.</p>
</dd>
<dt id='hex' class='method'>hex<a href='Tokenizer_src.html#hex'>Source</a></dt>
<dd>
<p><code class='sig'><a href='TokenVal.html'>TokenVal</a> hex()</code></p>

<p>Process hex int/long literal starting with 0x</p>
</dd>
<dt id='inStrLiteral' class='field hidden'>inStrLiteral<a href='Tokenizer_src.html#inStrLiteral'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Bool.html'>Bool</a> inStrLiteral</code></p>
</dd>
<dt id='interpolation' class='method hidden'>interpolation<a href='Tokenizer_src.html#interpolation'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Bool.html'>Bool</a> interpolation(<a href='../sys/Int.html'>Int</a> line, <a href='../sys/Int.html'>Int</a> col, <a href='../sys/Str.html'>Str</a> s, <a href='Quoted.html'>Quoted</a> q)</code></p>

<p>When we hit a $ inside a string it indicates an embedded expression.  We make this look like a stream of tokens such that:</p>

<pre>"a ${b} c" -> "a " + b + " c"
"a $&lt;b> c" -> "a " + LocaleExpr("b") + " c"</pre>

<p>Return true if more in the string literal.</p>
</dd>
<dt id='isDoc' class='field hidden'>isDoc<a href='Tokenizer_src.html#isDoc'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Bool.html'>Bool</a> isDoc</code></p>
</dd>
<dt id='lastLine' class='field hidden'>lastLine<a href='Tokenizer_src.html#lastLine'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Int.html'>Int</a> lastLine</code></p>
</dd>
<dt id='line' class='field hidden'>line<a href='Tokenizer_src.html#line'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Int.html'>Int</a> line := 1</code></p>
</dd>
<dt id='make' class='method'>make<a href='Tokenizer_src.html#make'>Source</a></dt>
<dd>
<p><code class='sig'>new make(<a href='Compiler.html'>Compiler</a> compiler, <a href='Loc.html'>Loc</a> loc, <a href='../sys/Str.html'>Str</a> buf, <a href='../sys/Bool.html'>Bool</a> isDoc)</code></p>

<p>Construct with characters of source file.  The buffer passed must be normalized in that all newlines must be represented strictly as \n and not \r or \r\n (see File.readAllStr).  If isDoc is false, we skip all star-star Fandoc comments.</p>
</dd>
<dt id='makeVirtualToken' class='method hidden'>makeVirtualToken<a href='Tokenizer_src.html#makeVirtualToken'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a> makeVirtualToken(<a href='../sys/Int.html'>Int</a> line, <a href='../sys/Int.html'>Int</a> col, <a href='Token.html'>Token</a> kind, <a href='../sys/Obj.html'>Obj</a>? value := null)</code></p>

<p>Create a virtual token for string interpolation.</p>
</dd>
<dt id='next' class='method'>next<a href='Tokenizer_src.html#next'>Source</a></dt>
<dd>
<p><code class='sig'><a href='TokenVal.html'>TokenVal</a>? next()</code></p>

<p>Return the next token in the buffer.</p>
</dd>
<dt id='number' class='method hidden'>number<a href='Tokenizer_src.html#number'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a> number()</code></p>

<p>Parse a number literal token: int, float, decimal, or duration.</p>
</dd>
<dt id='peek' class='field hidden'>peek<a href='Tokenizer_src.html#peek'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Int.html'>Int</a> peek</code></p>
</dd>
<dt id='peekPeek' class='method hidden'>peekPeek<a href='Tokenizer_src.html#peekPeek'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Int.html'>Int</a> peekPeek()</code></p>

<p>Peek at the character after peek</p>
</dd>
<dt id='pos' class='field hidden'>pos<a href='Tokenizer_src.html#pos'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Int.html'>Int</a> pos</code></p>
</dd>
<dt id='posOfLine' class='field hidden'>posOfLine<a href='Tokenizer_src.html#posOfLine'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Int.html'>Int</a> posOfLine</code></p>
</dd>
<dt id='quoted' class='method hidden'>quoted<a href='Tokenizer_src.html#quoted'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a>? quoted(<a href='Quoted.html'>Quoted</a> q)</code></p>

<p>Parse a quoted literal token: normal, triple, or uri Opening quote must already be consumed.</p>
</dd>
<dt id='skipCommentML' class='method hidden'>skipCommentML<a href='Tokenizer_src.html#skipCommentML'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a>? skipCommentML()</code></p>

<p>Skip a multi line /* comment.  Note unlike C/Java, slash/star comments can be nested.</p>
</dd>
<dt id='skipCommentSL' class='method hidden'>skipCommentSL<a href='Tokenizer_src.html#skipCommentSL'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a>? skipCommentSL()</code></p>

<p>Skip a single line // comment</p>
</dd>
<dt id='skipStrWs' class='method hidden'>skipStrWs<a href='Tokenizer_src.html#skipStrWs'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Bool.html'>Bool</a> skipStrWs(<a href='../sys/Int.html'>Int</a> openLine, <a href='../sys/Int.html'>Int</a> openPos)</code></p>

<p>Leading white space in a multi-line string is assumed to be outside of the string literal.  If there is an non-whitespace char, then it is an compile time error. Return true if ok, false on error.</p>
</dd>
<dt id='symbol' class='method hidden'>symbol<a href='Tokenizer_src.html#symbol'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a> symbol()</code></p>

<p>Parse a symbol token (typically into an operator).</p>
</dd>
<dt id='tokenize' class='method'>tokenize<a href='Tokenizer_src.html#tokenize'>Source</a></dt>
<dd>
<p><code class='sig'><a href='TokenVal.html'>TokenVal</a>[] tokenize()</code></p>

<p>Tokenize the entire input into a list of tokens.</p>
</dd>
<dt id='tokens' class='field hidden'>tokens<a href='Tokenizer_src.html#tokens'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a>[] tokens</code></p>
</dd>
<dt id='whitespace' class='field hidden'>whitespace<a href='Tokenizer_src.html#whitespace'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Bool.html'>Bool</a> whitespace</code></p>
</dd>
<dt id='word' class='method hidden'>word<a href='Tokenizer_src.html#word'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='TokenVal.html'>TokenVal</a> word()</code></p>

<p>Parse a word token: alpha (alpha|number)* Words are either keywords or identifiers</p>
</dd>
</dl>
</div>
</div>
</div>
<div class='sidebar'>
<h2>Type</h2>
<ul class='clean'>
  <li><a href='Tokenizer_src.html'>View Source</a></li>
  <li><a href='#' onclick='ShowSlots.toggle(event); return false;'>Show All Slots</a></li>
</ul>
<div class='slots'>
<div class='overview'>
<h2>Slots</h2>
<ul class='clean'>
  <li class='hidden'><a href='#buf'>buf</a></li>
  <li class='hidden'><a href='#ch'>ch</a></li>
  <li class='hidden'><a href='#col'>col</a></li>
  <li class='hidden'><a href='#consume'>consume</a></li>
  <li class='hidden'><a href='#cur'>cur</a></li>
  <li class='hidden'><a href='#docComment'>docComment</a></li>
  <li class='hidden'><a href='#dsl'>dsl</a></li>
  <li class='hidden'><a href='#endOfQuoted'>endOfQuoted</a></li>
  <li><a href='#err'>err</a></li>
  <li><a href='#escape'>escape</a></li>
  <li class='hidden'><a href='#filename'>filename</a></li>
  <li class='hidden'><a href='#find'>find</a></li>
  <li><a href='#hex'>hex</a></li>
  <li class='hidden'><a href='#inStrLiteral'>inStrLiteral</a></li>
  <li class='hidden'><a href='#interpolation'>interpolation</a></li>
  <li class='hidden'><a href='#isDoc'>isDoc</a></li>
  <li class='hidden'><a href='#lastLine'>lastLine</a></li>
  <li class='hidden'><a href='#line'>line</a></li>
  <li><a href='#make'>make</a></li>
  <li class='hidden'><a href='#makeVirtualToken'>makeVirtualToken</a></li>
  <li><a href='#next'>next</a></li>
  <li class='hidden'><a href='#number'>number</a></li>
  <li class='hidden'><a href='#peek'>peek</a></li>
  <li class='hidden'><a href='#peekPeek'>peekPeek</a></li>
  <li class='hidden'><a href='#pos'>pos</a></li>
  <li class='hidden'><a href='#posOfLine'>posOfLine</a></li>
  <li class='hidden'><a href='#quoted'>quoted</a></li>
  <li class='hidden'><a href='#skipCommentML'>skipCommentML</a></li>
  <li class='hidden'><a href='#skipCommentSL'>skipCommentSL</a></li>
  <li class='hidden'><a href='#skipStrWs'>skipStrWs</a></li>
  <li class='hidden'><a href='#symbol'>symbol</a></li>
  <li><a href='#tokenize'>tokenize</a></li>
  <li class='hidden'><a href='#tokens'>tokens</a></li>
  <li class='hidden'><a href='#whitespace'>whitespace</a></li>
  <li class='hidden'><a href='#word'>word</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='footer'>
<div>
<p>
compiler 1.0.56
[11-Nov-2010 Thu 10:08:16AM EST]
</p>
</div>
</div>
</body>
</html>
