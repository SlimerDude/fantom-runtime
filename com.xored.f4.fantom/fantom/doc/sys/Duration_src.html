<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>sys::Duration</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../doc.css'/>
  <script type='text/javascript' src='../doc.js'></script>
<!--[if lt IE 7]>
<script src='http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js' type='text/javascript'></script>
<![endif]-->
</head>
<body onload='Login.check();'>
<div class='header'>
<div>
<h1><a href='/'>Fantom</a></h1>
<p id='sidewalkLogin_'>&nbsp;</p>
<form method='get' action='/sidewalk/search/'>
<p>
<input type='text' name='q' size='30' value='Search...' onfocus='if (value=="Search...") value=""' onblur='if (value=="") value="Search..."' />
</p>
</form>
<ul>
<li><a href='/'>Home</a></li>
<li class='active'><a href='../index.html'>Docs</a></li>
<li><a href='/sidewalk/blog/'>Blog</a></li>
<li><a href='/sidewalk/ticket/'>Tickets</a></li>
<li><a href='/sidewalk/topic/'>Discuss</a></li>
</ul></div>
</div>
<div class='subHeader'>
<div>
<ul>
  <li><a href='../index.html'>Doc Home</a></li>
  <li>&gt;</li>
  <li><a href='index.html'>sys</a></li>
  <li>&gt;</li>
  <li><a href='Duration.html'>Duration</a></li>
</ul>
</div>
</div>
<div class='content'>
<div>
<div class='fandoc'>
<div class='type'>
<div class='overview'>
<h2>const final class</h2>
<h1>sys::Duration</h1>
<pre><a href='Obj.html'>sys::Obj</a>
  sys::Duration</pre>
</div>
</div>
<div class='src'>
<pre>
<span class='y'>//</span>
<span class='y'>// Copyright (c) 2006, Brian Frank and Andy Frank</span>
<span class='y'>// Licensed under the Academic Free License version 3.0</span>
<span class='y'>//</span>
<span class='y'>// History:</span>
<span class='y'>//   11 Dec 05  Brian Frank  Creation</span>
<span class='y'>//</span>

<span class='z'>**</span>
<span class='z'>** Duration represents a relative duration of time with nanosecond precision.</span>
<span class='z'>**</span>
<span class='z'>** Also see [docLang]`docLang::DateTime`.</span>
<span class='z'>**</span>
@Serializable <span class='b'>{</span> simple = <span class='k'>true</span> <span class='b'>}</span>
<span class='k'>const</span> <span class='k'>final</span> <span class='k'>class</span> Duration
<span class='b'>{</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Construction</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Get the current value of the system timer.  This method returns</span>
  <span class='z'>** a relative time unrelated to system or wall-clock time.  Typically</span>
  <span class='z'>** it is the number of nanosecond ticks which have elapsed since system</span>
  <span class='z'>** startup.</span>
  <span class='z'>**</span>
  <span class='k'>static</span> Duration <span id='now'>now</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Convenience for 'now.ticks'.</span>
  <span class='z'>**</span>
  <span class='k'>static</span> Int <span id='nowTicks'>nowTicks</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Create a Duration which represents the specified number of nanosecond ticks.</span>
  <span class='z'>**</span>
  <span class='k'>static</span> Duration <span id='make'>make</span><span class='b'>(</span>Int ticks<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Parse a Str into a Duration according to the Fantom</span>
  <span class='z'>** [literal format]`docLang::Literals#duration`.</span>
  <span class='z'>** If invalid format and checked is false return null,</span>
  <span class='z'>** otherwise throw ParseErr.  The following suffixes</span>
  <span class='z'>** are supported:</span>
  <span class='z'>**   ns:   nanoseconds  (x 1)</span>
  <span class='z'>**   ms:   milliseconds (x 1,000,000)</span>
  <span class='z'>**   sec:  seconds      (x 1,000,000,000)</span>
  <span class='z'>**   min:  minutes      (x 60,000,000,000)</span>
  <span class='z'>**   hr:   hours        (x 3,600,000,000,000)</span>
  <span class='z'>**   day:  days         (x 86,400,000,000,000)</span>
  <span class='z'>**</span>
  <span class='z'>** Examples:</span>
  <span class='z'>**   Duration.fromStr("4ns")</span>
  <span class='z'>**   Duration.fromStr("100ms")</span>
  <span class='z'>**   Duration.fromStr("-0.5hr")</span>
  <span class='z'>**</span>
  <span class='k'>static</span> Duration? <span id='fromStr'>fromStr</span><span class='b'>(</span>Str s, Bool checked := <span class='k'>true</span><span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Get the system timer at boot time of the Fantom VM.</span>
  <span class='z'>**</span>
  <span class='k'>static</span> Duration <span id='boot'>boot</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Get the duration which has elapsed since the</span>
  <span class='z'>** Fantom VM was booted which is 'now - boot'.</span>
  <span class='z'>**</span>
  <span class='k'>static</span> Duration <span id='uptime'>uptime</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Default value is 0ns.</span>
  <span class='z'>**</span>
  <span class='k'>static</span> <span class='k'>const</span> Duration <span id='defVal'>defVal</span>

  <span class='z'>**</span>
  <span class='z'>** Min value is equivalent to 'make(Int.minVal)'.</span>
  <span class='z'>**</span>
  <span class='k'>static</span> <span class='k'>const</span> Duration <span id='minVal'>minVal</span>

  <span class='z'>**</span>
  <span class='z'>** Max value is equivalent to 'make(Int.maxVal)'.</span>
  <span class='z'>**</span>
  <span class='k'>static</span> <span class='k'>const</span> Duration <span id='maxVal'>maxVal</span>

  <span class='z'>**</span>
  <span class='z'>** Private constructor.</span>
  <span class='z'>**</span>
  <span class='k'>private</span> <span class='k'>new</span> <span id='privateMake'>privateMake</span><span class='b'>()</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Obj Overrides</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Return true if same number nanosecond ticks.</span>
  <span class='z'>**</span>
  <span class='k'>override</span> Bool <span id='equals'>equals</span><span class='b'>(</span>Obj? obj<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Compare based on nanosecond ticks.</span>
  <span class='z'>**</span>
  <span class='k'>override</span> Int <span id='compare'>compare</span><span class='b'>(</span>Obj obj<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Return ticks().</span>
  <span class='z'>**</span>
  <span class='k'>override</span> Int <span id='hash'>hash</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Return string representation of the duration which is a valid</span>
  <span class='z'>** duration literal format suitable for decoding via `fromStr`.</span>
  <span class='z'>**</span>
  <span class='k'>override</span> Str <span id='toStr'>toStr</span><span class='b'>()</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Methods</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Return number of nanosecond ticks.</span>
  <span class='z'>**</span>
  Int <span id='ticks'>ticks</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Negative of this.  Shortcut is -a.</span>
  <span class='z'>**</span>
  @Operator Duration <span id='negate'>negate</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Multiply this with b.  Shortcut is a*b.</span>
  <span class='z'>**</span>
  @Operator Duration <span id='mult'>mult</span><span class='b'>(</span>Float b<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Divide this by b.  Shortcut is a/b.</span>
  <span class='z'>**</span>
  @Operator Duration <span id='div'>div</span><span class='b'>(</span>Float b<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Add this with b.  Shortcut is a+b.</span>
  <span class='z'>**</span>
  @Operator Duration <span id='plus'>plus</span><span class='b'>(</span>Duration b<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Subtract b from this.  Shortcut is a-b.</span>
  <span class='z'>**</span>
  @Operator Duration <span id='minus'>minus</span><span class='b'>(</span>Duration b<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Absolute value - if this is a negative duration,</span>
  <span class='z'>** then return its positive value.</span>
  <span class='z'>**</span>
  Duration <span id='abs'>abs</span><span class='b'>()</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Conversion</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Return a new Duration with this duration's nanosecond</span>
  <span class='z'>** ticks truncated according to the specified accuracy.</span>
  <span class='z'>** For example 'floor(1min)' will truncate this duration</span>
  <span class='z'>** such that its seconds are 0.0.</span>
  <span class='z'>**</span>
  Duration <span id='floor'>floor</span><span class='b'>(</span>Duration accuracy<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Get this duration in milliseconds.  Any fractional</span>
  <span class='z'>** milliseconds are truncated with a loss of precision.</span>
  <span class='z'>**</span>
  Int <span id='toMillis'>toMillis</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Get this duration in seconds.  Any fractional</span>
  <span class='z'>** seconds are truncated with a loss of precision.</span>
  <span class='z'>**</span>
  Int <span id='toSec'>toSec</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Get this duration in minutes.  Any fractional</span>
  <span class='z'>** minutes are truncated with a loss of precision.</span>
  Int <span id='toMin'>toMin</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Get this duration in hours.  Any fractional</span>
  <span class='z'>** hours are truncated with a loss of precision.</span>
  <span class='z'>**</span>
  Int <span id='toHour'>toHour</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Get this duration in 24 hour days.  Any fractional</span>
  <span class='z'>** days are truncated with a loss of precision.</span>
  <span class='z'>**</span>
  Int <span id='toDay'>toDay</span><span class='b'>()</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Locale</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Return human friendly string representation.</span>
  <span class='z'>** TODO: enhance this for pattern</span>
  <span class='z'>**</span>
  Str <span id='toLocale'>toLocale</span><span class='b'>()</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Conversions</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Get this Duration as a Fantom code literal.</span>
  <span class='z'>**</span>
  Str <span id='toCode'>toCode</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Format this duration according to ISO 8601.  Also see `fromIso`.</span>
  <span class='z'>**</span>
  <span class='z'>** Examples:</span>
  <span class='z'>**   8ns.toIso             =&gt;  PT0.000000008S</span>
  <span class='z'>**   100ms.toIso           =&gt;  PT0.1S</span>
  <span class='z'>**   (-20sec).toIso        =&gt;  -PT20S</span>
  <span class='z'>**   3.5min.toIso          =&gt;  PT3M30S</span>
  <span class='z'>**   1day.toIso            =&gt;  PT24H</span>
  <span class='z'>**   (1day+2hr+3min).toIso =&gt;  P1DT2H3M</span>
  <span class='z'>**</span>
  Str <span id='toIso'>toIso</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Parse a duration according to ISO 8601.  If invalid format</span>
  <span class='z'>** and checked is false return null, otherwise throw ParseErr.</span>
  <span class='z'>** The following restrictions are enforced:</span>
  <span class='z'>**   - Cannot specify a 'Y' year or 'M' month component</span>
  <span class='z'>**     since it is ambiguous</span>
  <span class='z'>**   - Only the 'S' seconds component may include a fraction</span>
  <span class='z'>**   - Only nanosecond resolution is supported</span>
  <span class='z'>** See `toIso` for example formats.</span>
  <span class='z'>**</span>
  <span class='k'>static</span> Duration <span id='fromIso'>fromIso</span><span class='b'>(</span>Str s, Bool checked := <span class='k'>true</span><span class='b'>)</span>

<span class='b'>}</span></pre>
</div>
</div>
<div class='sidebar'>
<h2>More Info</h2>
<ul class='clean'>
  <li><a href='Duration.html'>View Fandoc</a></li>
</ul>
<div class='slots'>
<div class='overview'>
<h2>Slots</h2>
<ul class='clean'>
  <li style='display: block;'><a href='#abs'>abs</a></li>
  <li style='display: block;'><a href='#boot'>boot</a></li>
  <li style='display: block;'><a href='#compare'>compare</a></li>
  <li style='display: block;'><a href='#defVal'>defVal</a></li>
  <li style='display: block;'><a href='#div'>div</a></li>
  <li style='display: block;'><a href='#equals'>equals</a></li>
  <li style='display: block;'><a href='#floor'>floor</a></li>
  <li style='display: block;'><a href='#fromIso'>fromIso</a></li>
  <li style='display: block;'><a href='#fromStr'>fromStr</a></li>
  <li style='display: block;'><a href='#hash'>hash</a></li>
  <li style='display: block;'><a href='#make'>make</a></li>
  <li style='display: block;'><a href='#maxVal'>maxVal</a></li>
  <li style='display: block;'><a href='#minVal'>minVal</a></li>
  <li style='display: block;'><a href='#minus'>minus</a></li>
  <li style='display: block;'><a href='#mult'>mult</a></li>
  <li style='display: block;'><a href='#negate'>negate</a></li>
  <li style='display: block;'><a href='#now'>now</a></li>
  <li style='display: block;'><a href='#nowTicks'>nowTicks</a></li>
  <li style='display: block;'><a href='#plus'>plus</a></li>
  <li class='hidden' style='display: block;'><a href='#privateMake'>privateMake</a></li>
  <li style='display: block;'><a href='#ticks'>ticks</a></li>
  <li style='display: block;'><a href='#toCode'>toCode</a></li>
  <li style='display: block;'><a href='#toDay'>toDay</a></li>
  <li style='display: block;'><a href='#toHour'>toHour</a></li>
  <li style='display: block;'><a href='#toIso'>toIso</a></li>
  <li style='display: block;'><a href='#toLocale'>toLocale</a></li>
  <li style='display: block;'><a href='#toMillis'>toMillis</a></li>
  <li style='display: block;'><a href='#toMin'>toMin</a></li>
  <li style='display: block;'><a href='#toSec'>toSec</a></li>
  <li style='display: block;'><a href='#toStr'>toStr</a></li>
  <li style='display: block;'><a href='#uptime'>uptime</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='footer'>
<div>
<p>
sys 1.0.56
[11-Nov-2010 Thu 10:08:16AM EST]
</p>
</div>
</div>
</body>
</html>
