<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>sys::OutStream</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../doc.css'/>
  <script type='text/javascript' src='../doc.js'></script>
<!--[if lt IE 7]>
<script src='http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js' type='text/javascript'></script>
<![endif]-->
</head>
<body onload='Login.check();'>
<div class='header'>
<div>
<h1><a href='/'>Fantom</a></h1>
<p id='sidewalkLogin_'>&nbsp;</p>
<form method='get' action='/sidewalk/search/'>
<p>
<input type='text' name='q' size='30' value='Search...' onfocus='if (value=="Search...") value=""' onblur='if (value=="") value="Search..."' />
</p>
</form>
<ul>
<li><a href='/'>Home</a></li>
<li class='active'><a href='../index.html'>Docs</a></li>
<li><a href='/sidewalk/blog/'>Blog</a></li>
<li><a href='/sidewalk/ticket/'>Tickets</a></li>
<li><a href='/sidewalk/topic/'>Discuss</a></li>
</ul></div>
</div>
<div class='subHeader'>
<div>
<ul>
  <li><a href='../index.html'>Doc Home</a></li>
  <li>&gt;</li>
  <li><a href='index.html'>sys</a></li>
  <li>&gt;</li>
  <li><a href='OutStream.html'>OutStream</a></li>
</ul>
</div>
</div>
<div class='content'>
<div>
<div class='fandoc'>
<div class='type'>
<div class='overview'>
<h2>class</h2>
<h1>sys::OutStream</h1>
<pre><a href='Obj.html'>sys::Obj</a>
  sys::OutStream</pre>
</div>
<div class='detail'>

<p>OutStream is used to write binary and text data to an output stream.</p>
</div>
</div>
<div class='slots'>
<div class='detail'>
<h2>Slots</h2>
<dl>
<dt id='charset' class='field'>charset<a href='OutStream_src.html#charset'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='Charset.html'>Charset</a> charset</code></p>

<p>The current charset used to encode Unicode characters into bytes.  The default charset should always be UTF-8.</p>
</dd>
<dt id='close' class='method'>close<a href='OutStream_src.html#close'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='Bool.html'>Bool</a> close()</code></p>

<p>Close the output stream.  This method is guaranteed to never throw an IOErr.  Return true if the stream was closed successfully or false if the stream was closed abnormally.  Default implementation does nothing and returns true.</p>
</dd>
<dt id='endian' class='field'>endian<a href='OutStream_src.html#endian'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='Endian.html'>Endian</a> endian</code></p>

<p>Byte order mode for binary writes. Default is <code><a href='Endian.html#big'>Endian.big</a></code> (network byte order).</p>
</dd>
<dt id='flush' class='method'>flush<a href='OutStream_src.html#flush'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='This.html'>This</a> flush()</code></p>

<p>Flush the stream so any buffered bytes are written out.  Default implementation does nothing.  Throw IOErr on error.  Return this.</p>
</dd>
<dt id='make' class='method'>make<a href='OutStream_src.html#make'>Source</a></dt>
<dd>
<p><code class='sig'>new make(<a href='OutStream.html'>OutStream</a>? out)</code></p>

<p>Constructor for an OutStream which wraps another stream. All writes to this stream will be routed to the specified inner stream.</p>

<p>If out is null, then it is the subclass responsibility to handle writes by overriding the following methods: <a href='OutStream.html#write'>write</a> and <a href='OutStream.html#writeBuf'>writeBuf</a>.</p>
</dd>
<dt id='print' class='method'>print<a href='OutStream_src.html#print'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='This.html'>This</a> print(<a href='Obj.html'>Obj</a>? s)</code></p>

<p>Convenience for <code>writeChars(obj.toStr)</code>.  If obj is null, then print the string "null".  Return this.</p>
</dd>
<dt id='printLine' class='method'>printLine<a href='OutStream_src.html#printLine'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='This.html'>This</a> printLine(<a href='Obj.html'>Obj</a>? obj := "")</code></p>

<p>Convenience for <code>writeChars(obj.toStr + "\n")</code>.  If obj is null then print the string "null\n".  Return this.</p>
</dd>
<dt id='sync' class='method'>sync<a href='OutStream_src.html#sync'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='This.html'>This</a> sync()</code></p>

<p>If this output stream is mapped to a file device, then synchronize all memory buffers to the physical storage device. Throw IOErr on error.  Return this.</p>
</dd>
<dt id='write' class='method'>write<a href='OutStream_src.html#write'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='This.html'>This</a> write(<a href='Int.html'>Int</a> byte)</code></p>

<p>Write a byte to the output stream.  Throw IOErr on error. Return this.</p>
</dd>
<dt id='writeBool' class='method'>writeBool<a href='OutStream_src.html#writeBool'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeBool(<a href='Bool.html'>Bool</a> b)</code></p>

<p>Write one byte, one if true or zero if false.  This method is paired with <code><a href='InStream.html#readBool'>InStream.readBool</a></code>.  Throw IOErr on error.  Return this.</p>
</dd>
<dt id='writeBuf' class='method'>writeBuf<a href='OutStream_src.html#writeBuf'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='This.html'>This</a> writeBuf(<a href='Buf.html'>Buf</a> buf, <a href='Int.html'>Int</a> n := buf.remaining())</code></p>

<p>Write n bytes from the specified Buf at it's current position to this output stream.  If n is defaulted to buf.remaining(), then everything left in the buffer is drained to this output stream. The buf's position is advanced n bytes upon return.  Throw IOErr on error.  Return this.</p>
</dd>
<dt id='writeChar' class='method'>writeChar<a href='OutStream_src.html#writeChar'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeChar(<a href='Int.html'>Int</a> char)</code></p>

<p>Write one or more bytes to the stream for the specified Unicode character based on the current charset encoding.  Return this.</p>
</dd>
<dt id='writeChars' class='method'>writeChars<a href='OutStream_src.html#writeChars'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeChars(<a href='Str.html'>Str</a> str, <a href='Int.html'>Int</a> off := 0, <a href='Int.html'>Int</a> len := str.size() - off)</code></p>

<p>Write the Unicode characters in the specified string to the stream using the current charset encoding.  Off specifies the index offset to start writing characters and len the number of characters in str to write.  Return this.</p>
</dd>
<dt id='writeDecimal' class='method'>writeDecimal<a href='OutStream_src.html#writeDecimal'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeDecimal(<a href='Decimal.html'>Decimal</a> d)</code></p>

<p>Write a decimal as a string according to <a href='OutStream.html#writeUtf'>writeUtf</a>.</p>
</dd>
<dt id='writeF4' class='method'>writeF4<a href='OutStream_src.html#writeF4'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeF4(<a href='Float.html'>Float</a> r)</code></p>

<p>Write four bytes as a 32-bit floating point number using configured <a href='OutStream.html#endian'>endian</a> order according to <code><a href='Float.html#bits32'>Float.bits32</a></code>.  This is paired with <code><a href='InStream.html#readF4'>InStream.readF4</a></code>. Throw IOErr on error.  Return this.</p>
</dd>
<dt id='writeF8' class='method'>writeF8<a href='OutStream_src.html#writeF8'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeF8(<a href='Float.html'>Float</a> r)</code></p>

<p>Write eight bytes as a 64-bit floating point number using configured <a href='OutStream.html#endian'>endian</a> order according to <code><a href='Float.html#bits'>Float.bits</a></code>.  This is paired with <code><a href='InStream.html#readF8'>InStream.readF8</a></code>. Throw IOErr on error.  Return this.</p>
</dd>
<dt id='writeI2' class='method'>writeI2<a href='OutStream_src.html#writeI2'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeI2(<a href='Int.html'>Int</a> n)</code></p>

<p>Write two bytes as a 16-bit number using configured <a href='OutStream.html#endian'>endian</a>.  This method may be paired with <code><a href='InStream.html#readU2'>InStream.readU2</a></code> or <code><a href='InStream.html#readS2'>InStream.readS2</a></code>.  Throw IOErr on error.  Return this.</p>
</dd>
<dt id='writeI4' class='method'>writeI4<a href='OutStream_src.html#writeI4'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeI4(<a href='Int.html'>Int</a> n)</code></p>

<p>Write four bytes as a 32-bit number using configured <a href='OutStream.html#endian'>endian</a>.  This method may be paired with <code><a href='InStream.html#readU4'>InStream.readU4</a></code> or <code><a href='InStream.html#readS4'>InStream.readS4</a></code>.  Throw IOErr on error.  Return this.</p>
</dd>
<dt id='writeI8' class='method'>writeI8<a href='OutStream_src.html#writeI8'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeI8(<a href='Int.html'>Int</a> n)</code></p>

<p>Write eight bytes as a 64-bit number using configured <a href='OutStream.html#endian'>endian</a>.  This is paired with <code><a href='InStream.html#readS8'>InStream.readS8</a></code>.  Throw IOErr on error.  Return this.</p>
</dd>
<dt id='writeObj' class='method'>writeObj<a href='OutStream_src.html#writeObj'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeObj(<a href='Obj.html'>Obj</a>? obj, [<a href='Str.html'>Str</a>:<a href='Obj.html'>Obj</a>]? options := null)</code></p>

<p>Write a serialized object from the stream according to the Fantom <a href='../docLang/Serialization.html'>serialization format</a>. Throw IOErr on error.  Return this.</p>

<p>The options may be used to specify the format of the output:</p>

<ul>
<li>"indent": Int specifies how many spaces to indent each level.  Default is 0.</li>

<li>"skipDefaults": Bool specifies if we should skip fields at their default values.  Field values are compared according to the <code>equals</code> method.  Default is false.</li>

<li>"skipErrors": Bool specifies if we should skip objects which aren't serializable. If true then we output null and a comment. Default is false.</li>
</ul>
</dd>
<dt id='writeProps' class='method'>writeProps<a href='OutStream_src.html#writeProps'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeProps(<a href='Str.html'>Str</a>:<a href='Str.html'>Str</a> props, <a href='Bool.html'>Bool</a> close := true)</code></p>

<p>Write the given map of Str name/value pairs to the output stream according to the Fantom props file format (see <code><a href='InStream.html#readProps'>InStream.readProps</a></code> for full specification).  The props are written using UTF-8 regardless of this stream's current charset.  If close argument is true, then automatically close the stream.  Return this.</p>
</dd>
<dt id='writeUtf' class='method'>writeUtf<a href='OutStream_src.html#writeUtf'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeUtf(<a href='Str.html'>Str</a> s)</code></p>

<p>Write a Str in modified UTF-8 format according the <code>java.io.DataOutput</code> specification.  This method is paired with <code><a href='InStream.html#readUtf'>InStream.readUtf</a></code>.  Throw IOErr on error.  Return this.</p>
</dd>
<dt id='writeXml' class='method'>writeXml<a href='OutStream_src.html#writeXml'>Source</a></dt>
<dd>
<p><code class='sig'><a href='This.html'>This</a> writeXml(<a href='Str.html'>Str</a> str, <a href='Int.html'>Int</a> mode := 0)</code></p>

<p>Write a string to this output stream using XML escape sequences. By default only the <code>&lt; > &amp;</code> characters are escaped. You can use the following flags to escape additional characters:</p>

<ul>
<li><a href='OutStream.html#xmlEscNewlines'>xmlEscNewlines</a>: escape the <code>\n</code> and <code>\r</code> characters</li>

<li><a href='OutStream.html#xmlEscQuotes'>xmlEscQuotes</a>: escape the single and double quote characters</li>

<li><a href='OutStream.html#xmlEscUnicode'>xmlEscUnicode</a>: escape any character greater than 0x7f</li>
</ul>

<p>Any control character less than 0x20 which is not <code>\t</code>, <code>\n</code> or <code>\r</code> is always escaped with a numeric reference.  Return this.</p>
</dd>
<dt id='xmlEscNewlines' class='field'>xmlEscNewlines<a href='OutStream_src.html#xmlEscNewlines'>Source</a></dt>
<dd>
<p><code class='sig'>const static <a href='Int.html'>Int</a> xmlEscNewlines := 1</code></p>

<p>XML escape newline characters.  See <a href='OutStream.html#writeXml'>writeXml</a>.</p>
</dd>
<dt id='xmlEscQuotes' class='field'>xmlEscQuotes<a href='OutStream_src.html#xmlEscQuotes'>Source</a></dt>
<dd>
<p><code class='sig'>const static <a href='Int.html'>Int</a> xmlEscQuotes := 2</code></p>

<p>XML escape single and double quotes.  See <a href='OutStream.html#writeXml'>writeXml</a>.</p>
</dd>
<dt id='xmlEscUnicode' class='field'>xmlEscUnicode<a href='OutStream_src.html#xmlEscUnicode'>Source</a></dt>
<dd>
<p><code class='sig'>const static <a href='Int.html'>Int</a> xmlEscUnicode := 4</code></p>

<p>XML escape any character greater then 0x7f.  See <a href='OutStream.html#writeXml'>writeXml</a>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class='sidebar'>
<h2>Type</h2>
<ul class='clean'>
  <li><a href='OutStream_src.html'>View Source</a></li>
  <li><a href='#' onclick='ShowSlots.toggle(event); return false;'>Show All Slots</a></li>
</ul>
<div class='slots'>
<div class='overview'>
<h2>Slots</h2>
<ul class='clean'>
  <li><a href='#charset'>charset</a></li>
  <li><a href='#close'>close</a></li>
  <li><a href='#endian'>endian</a></li>
  <li><a href='#flush'>flush</a></li>
  <li><a href='#make'>make</a></li>
  <li><a href='#print'>print</a></li>
  <li><a href='#printLine'>printLine</a></li>
  <li><a href='#sync'>sync</a></li>
  <li><a href='#write'>write</a></li>
  <li><a href='#writeBool'>writeBool</a></li>
  <li><a href='#writeBuf'>writeBuf</a></li>
  <li><a href='#writeChar'>writeChar</a></li>
  <li><a href='#writeChars'>writeChars</a></li>
  <li><a href='#writeDecimal'>writeDecimal</a></li>
  <li><a href='#writeF4'>writeF4</a></li>
  <li><a href='#writeF8'>writeF8</a></li>
  <li><a href='#writeI2'>writeI2</a></li>
  <li><a href='#writeI4'>writeI4</a></li>
  <li><a href='#writeI8'>writeI8</a></li>
  <li><a href='#writeObj'>writeObj</a></li>
  <li><a href='#writeProps'>writeProps</a></li>
  <li><a href='#writeUtf'>writeUtf</a></li>
  <li><a href='#writeXml'>writeXml</a></li>
  <li><a href='#xmlEscNewlines'>xmlEscNewlines</a></li>
  <li><a href='#xmlEscQuotes'>xmlEscQuotes</a></li>
  <li><a href='#xmlEscUnicode'>xmlEscUnicode</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='footer'>
<div>
<p>
sys 1.0.56
[11-Nov-2010 Thu 10:08:16AM EST]
</p>
</div>
</div>
</body>
</html>
