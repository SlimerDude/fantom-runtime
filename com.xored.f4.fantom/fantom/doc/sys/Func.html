<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>sys::Func</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../doc.css'/>
  <script type='text/javascript' src='../doc.js'></script>
<!--[if lt IE 7]>
<script src='http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js' type='text/javascript'></script>
<![endif]-->
</head>
<body onload='Login.check();'>
<div class='header'>
<div>
<h1><a href='/'>Fantom</a></h1>
<p id='sidewalkLogin_'>&nbsp;</p>
<form method='get' action='/sidewalk/search/'>
<p>
<input type='text' name='q' size='30' value='Search...' onfocus='if (value=="Search...") value=""' onblur='if (value=="") value="Search..."' />
</p>
</form>
<ul>
<li><a href='/'>Home</a></li>
<li class='active'><a href='../index.html'>Docs</a></li>
<li><a href='/sidewalk/blog/'>Blog</a></li>
<li><a href='/sidewalk/ticket/'>Tickets</a></li>
<li><a href='/sidewalk/topic/'>Discuss</a></li>
</ul></div>
</div>
<div class='subHeader'>
<div>
<ul>
  <li><a href='../index.html'>Doc Home</a></li>
  <li>&gt;</li>
  <li><a href='index.html'>sys</a></li>
  <li>&gt;</li>
  <li><a href='Func.html'>Func</a></li>
</ul>
</div>
</div>
<div class='content'>
<div>
<div class='fandoc'>
<div class='type'>
<div class='overview'>
<h2>final class</h2>
<h1>sys::Func</h1>
<pre><a href='Obj.html'>sys::Obj</a>
  sys::Func</pre>
</div>
<div class='detail'>

<p>Func models an executable function.  Functions are typed by a formal parameter list and return value (or Void if no return). Functions are typically defined as method slots on a type, but may also be defined via closures.</p>

<p>An immutable function is one proven to be thread safe:</p>

<ul>
<li>Method functions are always immutable - see <code><a href='Method.html#func'>sys::Method.func</a></code></li>

<li>Closures which only capture final, const variables are always immutable; toImmutable always returns this</li>

<li>Closures which capture non-final or non-const variables are always mutable; toImmutable always throws NotImmutableErr</li>

<li>Closure which capture non-final variables which aren't known to be immutable until runtime (such as Obj or List) will return false for isImmutable, but will provide a toImmutable method which attempts to bind to the current variables by calling toImmutable on each one</li>

<li>Functions created by <code><a href='Func.html#bind'>Func.bind</a></code> are immutable if the original function is immutable <em>and</em> every bound argument is immutable</li>
</ul>

<p>The definition of a <em>final variable</em> is a variable which is never reassigned after it is initialized.  Any variable which is reassigned is considered a non-final variable.</p>

<p>See <a href='../docLang/Functions.html'>docLang::Functions</a> for details.</p>
</div>
</div>
<div class='slots'>
<div class='detail'>
<h2>Slots</h2>
<dl>
<dt id='arity' class='method'>arity<a href='Func_src.html#arity'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Int.html'>Int</a> arity()</code></p>

<p>Convenience for <code>params.size</code></p>
</dd>
<dt id='bind' class='method'>bind<a href='Func_src.html#bind'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Func.html'>Func</a> bind(<a href='Obj.html'>Obj</a>?[] args)</code></p>

<p>Create a new function by binding the specified arguments to this function's parameters.  The new function which takes the remaining unbound parameters.</p>

<p>The resulting function is immutable if this function is immutable and all the args are immutable.</p>
</dd>
<dt id='call' class='method'>call<a href='Func_src.html#call'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='Obj.html'>R</a> call(<a href='Obj.html'>A</a> a := null, <a href='Obj.html'>B</a> b := null, <a href='Obj.html'>C</a> c := null, <a href='Obj.html'>D</a> d := null, <a href='Obj.html'>E</a> e := null, <a href='Obj.html'>F</a> f := null, <a href='Obj.html'>G</a> g := null, <a href='Obj.html'>H</a> h := null)</code></p>

<p>Optimized convenience for <a href='Func.html#callList'>callList</a> for zero to eight parameters.</p>
</dd>
<dt id='callList' class='method'>callList<a href='Func_src.html#callList'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='Obj.html'>R</a> callList(<a href='Obj.html'>Obj</a>?[]? args)</code></p>

<p>Dynamically invoke this function with the specified arguments and return the result.  If the function has Void return type, then null is returned. The argument list must match the number and type of required parameters. If this function represents an instance method (not static and not a constructor) then the first argument must be the target object.  If the function supports default parameters, omit arguments to use the defaults. It is permissible to pass more arguments then the number of method parameters - the additional arguments are ignored.  If no arguments are required, you may pass null for args.</p>
</dd>
<dt id='callOn' class='method'>callOn<a href='Func_src.html#callOn'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='Obj.html'>R</a> callOn(<a href='Obj.html'>Obj</a>? target, <a href='Obj.html'>Obj</a>?[]? args)</code></p>

<p>Convenience for dynamically invoking an instance method with specified target and arguments.  If this method maps to an instance method, then it is semantically equivalent to <code>callList([target, args[0], args[1] ...])</code>.  Throw UnsupportedErr if called on a function which is not an instance method.</p>
</dd>
<dt id='make' class='method hidden'>make<a href='Func_src.html#make'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>new make()</code></p>

<p>Private constructor.</p>
</dd>
<dt id='method' class='method'>method<a href='Func_src.html#method'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Method.html'>Method</a>? method()</code></p>

<p>Return the associated method if this function implements a method slot.  Otherwise return <code>null</code>.</p>

<p>Examples:</p>

<pre>Int#plus.func.method  =>  sys::Int.plus</pre>
</dd>
<dt id='params' class='method'>params<a href='Func_src.html#params'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Param.html'>Param</a>[] params()</code></p>

<p>Get the formal parameters of the function.</p>
</dd>
<dt id='returns' class='method'>returns<a href='Func_src.html#returns'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Type.html'>Type</a> returns()</code></p>

<p>Type returned by the function or sys::Void if no return value.</p>
</dd>
<dt id='retype' class='method'>retype<a href='Func_src.html#retype'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Func.html'>Func</a> retype(<a href='Type.html'>Type</a> t)</code></p>

<p>Return a new function which wraps this function but with a different reflective type signature.  No verification is done that this function actually conforms to new signature. Throw ArgErr if <code>t</code> isn't a parameterized function type.</p>

<p>Examples:</p>

<pre>f := |a,b->Obj| { "$a, $b" }
g := f.retype(|Int,Int->Str|#)
f.type  =>  |Obj?,Obj?->Obj|
g.type  =>  |Int,Int->Str|</pre>
</dd>
</dl>
</div>
</div>
</div>
<div class='sidebar'>
<h2>Type</h2>
<ul class='clean'>
  <li><a href='Func_src.html'>View Source</a></li>
  <li><a href='#' onclick='ShowSlots.toggle(event); return false;'>Show All Slots</a></li>
</ul>
<div class='slots'>
<div class='overview'>
<h2>Slots</h2>
<ul class='clean'>
  <li><a href='#arity'>arity</a></li>
  <li><a href='#bind'>bind</a></li>
  <li><a href='#call'>call</a></li>
  <li><a href='#callList'>callList</a></li>
  <li><a href='#callOn'>callOn</a></li>
  <li class='hidden'><a href='#make'>make</a></li>
  <li><a href='#method'>method</a></li>
  <li><a href='#params'>params</a></li>
  <li><a href='#returns'>returns</a></li>
  <li><a href='#retype'>retype</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='footer'>
<div>
<p>
sys 1.0.56
[11-Nov-2010 Thu 10:08:16AM EST]
</p>
</div>
</div>
</body>
</html>
