<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>sys::Obj</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../doc.css'/>
  <script type='text/javascript' src='../doc.js'></script>
<!--[if lt IE 7]>
<script src='http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js' type='text/javascript'></script>
<![endif]-->
</head>
<body onload='Login.check();'>
<div class='header'>
<div>
<h1><a href='/'>Fantom</a></h1>
<p id='sidewalkLogin_'>&nbsp;</p>
<form method='get' action='/sidewalk/search/'>
<p>
<input type='text' name='q' size='30' value='Search...' onfocus='if (value=="Search...") value=""' onblur='if (value=="") value="Search..."' />
</p>
</form>
<ul>
<li><a href='/'>Home</a></li>
<li class='active'><a href='../index.html'>Docs</a></li>
<li><a href='/sidewalk/blog/'>Blog</a></li>
<li><a href='/sidewalk/ticket/'>Tickets</a></li>
<li><a href='/sidewalk/topic/'>Discuss</a></li>
</ul></div>
</div>
<div class='subHeader'>
<div>
<ul>
  <li><a href='../index.html'>Doc Home</a></li>
  <li>&gt;</li>
  <li><a href='index.html'>sys</a></li>
  <li>&gt;</li>
  <li><a href='Obj.html'>Obj</a></li>
</ul>
</div>
</div>
<div class='content'>
<div>
<div class='fandoc'>
<div class='type'>
<div class='overview'>
<h2>abstract class</h2>
<h1>sys::Obj</h1>
</div>
</div>
<div class='src'>
<pre>
<span class='y'>//</span>
<span class='y'>// Copyright (c) 2006, Brian Frank and Andy Frank</span>
<span class='y'>// Licensed under the Academic Free License version 3.0</span>
<span class='y'>//</span>
<span class='y'>// History:</span>
<span class='y'>//   2 Dec 05  Brian Frank  Creation</span>
<span class='y'>//</span>

<span class='z'>**</span>
<span class='z'>** Obj is the root class of all classes.</span>
<span class='z'>**</span>
<span class='k'>abstract</span> <span class='k'>class</span> Obj
<span class='b'>{</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Constructor</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Obj constructor for subclasses.</span>
  <span class='z'>**</span>
  <span class='k'>protected</span> <span class='k'>new</span> <span id='make'>make</span><span class='b'>()</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Virtuals</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Compare this object to the specified for equality.  This method may</span>
  <span class='z'>** be accessed via the == and != shortcut operators.  If not overridden</span>
  <span class='z'>** the default implementation compares for reference equality using</span>
  <span class='z'>** the === operator.  If this method is overridden, then hash() must</span>
  <span class='z'>** also be overridden such that any two objects which return true for</span>
  <span class='z'>** equals() must return the same value for hash().  This method must</span>
  <span class='z'>** accept 'null' and return false.</span>
  <span class='z'>**</span>
  <span class='k'>virtual</span> Bool <span id='equals'>equals</span><span class='b'>(</span>Obj? that<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Return a negative integer, zero, or a positive integer if this object</span>
  <span class='z'>** is less than, equal to, or greater than the specified object:</span>
  <span class='z'>**    this &lt; that   =&gt;  &lt;0</span>
  <span class='z'>**    this == that  =&gt;  0</span>
  <span class='z'>**    this &gt; that   =&gt;  &gt;0</span>
  <span class='z'>**</span>
  <span class='z'>** This method may also be accessed via the '&lt;' '&lt;=' '&lt;=&gt;' '&gt;=' and '&gt;'</span>
  <span class='z'>** shortcut operators.  If not overridden the default implementation</span>
  <span class='z'>** compares the `toStr` representations.  Also see</span>
  <span class='z'>** [docLang]`docLang::Expressions#shortcuts`.</span>
  <span class='z'>**</span>
  <span class='z'>** Examples:</span>
  <span class='z'>**   3.compare(8)  =&gt;  -1</span>
  <span class='z'>**   8.compare(3)  =&gt;  1</span>
  <span class='z'>**   8.compare(8)  =&gt;  0</span>
  <span class='z'>**   3 &lt;=&gt; 8       =&gt;  -1  // shortcut for 3.compare(8)</span>
  <span class='z'>**</span>
  <span class='k'>virtual</span> Int <span id='compare'>compare</span><span class='b'>(</span>Obj that<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** Return a unique hashcode for this object.  If a class overrides hash()</span>
  <span class='z'>** then it must ensure if equals() returns true for any two objects then</span>
  <span class='z'>** they have same hash code.</span>
  <span class='z'>**</span>
  <span class='k'>virtual</span> Int <span id='hash'>hash</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Return a string representation of this object.</span>
  <span class='z'>**</span>
  <span class='k'>virtual</span> Str <span id='toStr'>toStr</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Trap a dynamic call for handling.  Dynamic calls are invoked</span>
  <span class='z'>** with the -&gt; shortcut operator:</span>
  <span class='z'>**   a-&gt;x        a.trap("x", [,])</span>
  <span class='z'>**   a-&gt;x = b    a.trap("x", [b])</span>
  <span class='z'>**   a-&gt;x(b)     a.trap("x", [b])</span>
  <span class='z'>**   a-&gt;x(b, c)  a.trap("x", [b, c])</span>
  <span class='z'>** The default implementation provided by Obj attempts to use</span>
  <span class='z'>** reflection.  If name maps to a method, it is invoked with the</span>
  <span class='z'>** specified arguments.  If name maps to a field and args.size</span>
  <span class='z'>** is zero, get the field.  If name maps to a field and args.size</span>
  <span class='z'>** is one, set the field and return args[0].  Otherwise throw</span>
  <span class='z'>** UnknownSlotErr.</span>
  <span class='z'>**</span>
  <span class='k'>virtual</span> Obj? <span id='trap'>trap</span><span class='b'>(</span>Str name, Obj?<span class='b'>[]</span>? args<span class='b'>)</span>

  <span class='z'>**</span>
  <span class='z'>** This method called whenever an it-block is applied to</span>
  <span class='z'>** an object.  The default implementation calls the function</span>
  <span class='z'>** with 'this', and then returns 'this'.</span>
  <span class='z'>**</span>
  <span class='k'>virtual</span> This <span id='with'>with</span><span class='b'>(</span>|This| f<span class='b'>)</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Type</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Return if this Obj is [immutable]`docLang::Concurrency#immutability`</span>
  <span class='z'>** and safe to share between threads:</span>
  <span class='z'>**   - an instance of a const class</span>
  <span class='z'>**   - the result of 'List.toImmutable' or 'Map.toImmutable'</span>
  <span class='z'>**   - a Func object may or may not be immutable - see `sys::Func`.</span>
  <span class='z'>**   - other instances are assumed mutable and return false</span>
  <span class='z'>**</span>
  Bool <span id='isImmutable'>isImmutable</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Get an immutable representation of this instance or throw</span>
  <span class='z'>** NotImmutableErr if this object cannot be represented as an</span>
  <span class='z'>** immutable:</span>
  <span class='z'>**   - if type is const, return this</span>
  <span class='z'>**   - if already an immutable List, Map, or Func return this</span>
  <span class='z'>**   - if a List, then attempt to perform a deep clone by</span>
  <span class='z'>**     calling toImmutable on all items</span>
  <span class='z'>**   - if a Map, then attempt to perform a deep clone by</span>
  <span class='z'>**     calling toImmutable on all values (keys are already immutable)</span>
  <span class='z'>**   - some Funcs can be made immutable - see `sys::Func`</span>
  <span class='z'>**   - any other object throws NotImmutableErr</span>
  <span class='z'>**</span>
  This <span id='toImmutable'>toImmutable</span><span class='b'>()</span>

  <span class='z'>**</span>
  <span class='z'>** Get the 'Type' instance which represents this object's class.</span>
  <span class='z'>** Also see`Type.of` or `Pod.of`.</span>
  <span class='z'>**</span>
  Type <span id='typeof'>typeof</span><span class='b'>()</span>

<span class='y'>//////////////////////////////////////////////////////////////////////////</span>
<span class='y'>// Utils</span>
<span class='y'>//////////////////////////////////////////////////////////////////////////</span>

  <span class='z'>**</span>
  <span class='z'>** Write 'x.toStr' to standard output.  If 'x' is null then print</span>
  <span class='z'>** "null".  If no argument is provided then print an empty line.</span>
  <span class='z'>**</span>
  <span class='k'>static</span> Void <span id='echo'>echo</span><span class='b'>(</span>Obj? x := <span class='s'>""</span><span class='b'>)</span>

<span class='b'>}</span></pre>
</div>
</div>
<div class='sidebar'>
<h2>More Info</h2>
<ul class='clean'>
  <li><a href='Obj.html'>View Fandoc</a></li>
</ul>
<div class='slots'>
<div class='overview'>
<h2>Slots</h2>
<ul class='clean'>
  <li style='display: block;'><a href='#compare'>compare</a></li>
  <li style='display: block;'><a href='#echo'>echo</a></li>
  <li style='display: block;'><a href='#equals'>equals</a></li>
  <li style='display: block;'><a href='#hash'>hash</a></li>
  <li style='display: block;'><a href='#isImmutable'>isImmutable</a></li>
  <li style='display: block;'><a href='#make'>make</a></li>
  <li style='display: block;'><a href='#toImmutable'>toImmutable</a></li>
  <li style='display: block;'><a href='#toStr'>toStr</a></li>
  <li style='display: block;'><a href='#trap'>trap</a></li>
  <li style='display: block;'><a href='#typeof'>typeof</a></li>
  <li style='display: block;'><a href='#with'>with</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='footer'>
<div>
<p>
sys 1.0.56
[11-Nov-2010 Thu 10:08:16AM EST]
</p>
</div>
</div>
</body>
</html>
