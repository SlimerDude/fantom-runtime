<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>obix::ObixObj</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../doc.css'/>
  <script type='text/javascript' src='../doc.js'></script>
<!--[if lt IE 7]>
<script src='http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js' type='text/javascript'></script>
<![endif]-->
</head>
<body onload='Login.check();'>
<div class='header'>
<div>
<h1><a href='/'>Fantom</a></h1>
<p id='sidewalkLogin_'>&nbsp;</p>
<form method='get' action='/sidewalk/search/'>
<p>
<input type='text' name='q' size='30' value='Search...' onfocus='if (value=="Search...") value=""' onblur='if (value=="") value="Search..."' />
</p>
</form>
<ul>
<li><a href='/'>Home</a></li>
<li class='active'><a href='../index.html'>Docs</a></li>
<li><a href='/sidewalk/blog/'>Blog</a></li>
<li><a href='/sidewalk/ticket/'>Tickets</a></li>
<li><a href='/sidewalk/topic/'>Discuss</a></li>
</ul></div>
</div>
<div class='subHeader'>
<div>
<ul>
  <li><a href='../index.html'>Doc Home</a></li>
  <li>&gt;</li>
  <li><a href='index.html'>obix</a></li>
  <li>&gt;</li>
  <li><a href='ObixObj.html'>ObixObj</a></li>
</ul>
</div>
</div>
<div class='content'>
<div>
<div class='fandoc'>
<div class='type'>
<div class='overview'>
<h2>class</h2>
<h1>obix::ObixObj</h1>
<pre><a href='../sys/Obj.html'>sys::Obj</a>
  obix::ObixObj</pre>
</div>
<div class='detail'>

<p>ObixObj models an <code>obix:obj</code> element.</p>
</div>
</div>
<div class='slots'>
<div class='detail'>
<h2>Slots</h2>
<dl>
<dt id='add' class='method'>add<a href='ObixObj_src.html#add'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/This.html'>This</a> add(<a href='ObixObj.html'>ObixObj</a> kid)</code></p>

<p>Add a child object.  Throw ArgErr if this child is already parented or has a duplicate name.  Return this.</p>
</dd>
<dt id='clear' class='method'>clear<a href='ObixObj_src.html#clear'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/This.html'>This</a> clear()</code></p>

<p>Remove all children objects.  Return this.</p>
</dd>
<dt id='contract' class='field'>contract<a href='ObixObj_src.html#contract'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Contract.html'>Contract</a> contract := Contract.empty</code></p>

<p>The list of contract URIs this object implemented as specified by <code>is</code> attribute.</p>
</dd>
<dt id='display' class='field'>display<a href='ObixObj_src.html#display'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Str.html'>Str</a>? display</code></p>

<p>Localized human readable string summary of the object.</p>
</dd>
<dt id='displayName' class='field'>displayName<a href='ObixObj_src.html#displayName'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Str.html'>Str</a>? displayName</code></p>

<p>Localized human readable version of the name attribute.</p>
</dd>
<dt id='each' class='method'>each<a href='ObixObj_src.html#each'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Void.html'>Void</a> each(|<a href='ObixObj.html'>ObixObj</a>| f)</code></p>

<p>Iterate each of the children objects.</p>
</dd>
<dt id='elemName' class='field'>elemName<a href='ObixObj_src.html#elemName'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Str.html'>Str</a> elemName := "obj"</code></p>

<p>The XML element name to use for this object.  If not one of the valid oBIX element names then throw ArgErr. Valid element names are:</p>

<pre>obj, bool, int, real, str, enum, uri, abstime,
reltime, date, time, list, op, feed, ref, err</pre>
</dd>
<dt id='first' class='method'>first<a href='ObixObj_src.html#first'>Source</a></dt>
<dd>
<p><code class='sig'><a href='ObixObj.html'>ObixObj</a>? first()</code></p>

<p>Get the first child returned by <a href='ObixObj.html#list'>list</a> or null.</p>
</dd>
<dt id='get' class='method'>get<a href='ObixObj_src.html#get'>Source</a></dt>
<dd>
<p><code class='sig'>@<a href='../sys/Operator.html'>Operator</a> <br/>
<a href='ObixObj.html'>ObixObj</a>? get(<a href='../sys/Str.html'>Str</a> name, <a href='../sys/Bool.html'>Bool</a> checked := true)</code></p>

<p>Get a child by name.  If not found and checked is true then throw NameErr, otherwise null.</p>
</dd>
<dt id='has' class='method'>has<a href='ObixObj_src.html#has'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Bool.html'>Bool</a> has(<a href='../sys/Str.html'>Str</a> name)</code></p>

<p>Return if there is child object by the specified name.</p>
</dd>
<dt id='href' class='field'>href<a href='ObixObj_src.html#href'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Uri.html'>Uri</a>? href</code></p>

<p>URI of this object. The root object of a document must have an absolute URI, other objects may have a URI relative to the document root.  See <a href='ObixObj.html#normalizedHref'>normalizedHref</a> to get this href normalized against the root object.</p>
</dd>
<dt id='icon' class='field'>icon<a href='ObixObj_src.html#icon'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Uri.html'>Uri</a>? icon</code></p>

<p>Reference to the graphical icon.</p>
</dd>
<dt id='in' class='field'>in<a href='ObixObj_src.html#in'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Contract.html'>Contract</a>? in</code></p>

<p>The <code>in</code> contract for operations and feeds.</p>
</dd>
<dt id='isEmpty' class='method'>isEmpty<a href='ObixObj_src.html#isEmpty'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Bool.html'>Bool</a> isEmpty()</code></p>

<p>Return is size is zero.</p>
</dd>
<dt id='isNull' class='field'>isNull<a href='ObixObj_src.html#isNull'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Bool.html'>Bool</a> isNull</code></p>

<p>The null flag indicates the absense of a value.</p>
</dd>
<dt id='kidsByName' class='field hidden'>kidsByName<a href='ObixObj_src.html#kidsByName'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private [<a href='../sys/Str.html'>Str</a>:<a href='ObixObj.html'>ObixObj</a>]? kidsByName</code></p>
</dd>
<dt id='kidsCount' class='field hidden'>kidsCount<a href='ObixObj_src.html#kidsCount'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='../sys/Int.html'>Int</a> kidsCount</code></p>
</dd>
<dt id='kidsHead' class='field hidden'>kidsHead<a href='ObixObj_src.html#kidsHead'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='ObixObj.html'>ObixObj</a>? kidsHead</code></p>
</dd>
<dt id='kidsTail' class='field hidden'>kidsTail<a href='ObixObj_src.html#kidsTail'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='ObixObj.html'>ObixObj</a>? kidsTail</code></p>
</dd>
<dt id='last' class='method'>last<a href='ObixObj_src.html#last'>Source</a></dt>
<dd>
<p><code class='sig'><a href='ObixObj.html'>ObixObj</a>? last()</code></p>

<p>Get the last child returned by <a href='ObixObj.html#list'>list</a> or null.</p>
</dd>
<dt id='list' class='method'>list<a href='ObixObj_src.html#list'>Source</a></dt>
<dd>
<p><code class='sig'><a href='ObixObj.html'>ObixObj</a>[] list()</code></p>

<p>Get a readonly list of the children objects or empty list if no children.  If iterating the children it is more efficient to use <a href='ObixObj.html#each'>each</a>.</p>
</dd>
<dt id='max' class='field'>max<a href='ObixObj_src.html#max'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Obj.html'>Obj</a>? max</code></p>

<p>Inclusive maximum for value.</p>
</dd>
<dt id='min' class='field'>min<a href='ObixObj_src.html#min'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Obj.html'>Obj</a>? min</code></p>

<p>Inclusive minium for value.</p>
</dd>
<dt id='name' class='field'>name<a href='ObixObj_src.html#name'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Str.html'>Str</a>? name</code></p>

<p>Programatic name of the object which defines role of this object in its parent.  Throw UnsupportedErr if an attempt is made to set the name once mounted under a parent.</p>
</dd>
<dt id='next' class='field hidden'>next<a href='ObixObj_src.html#next'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='ObixObj.html'>ObixObj</a>? next</code></p>
</dd>
<dt id='noChildren' class='field hidden'>noChildren<a href='ObixObj_src.html#noChildren'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>const static internal <a href='ObixObj.html'>ObixObj</a>[] noChildren := ObixObj[,]</code></p>
</dd>
<dt id='noUris' class='field hidden'>noUris<a href='ObixObj_src.html#noUris'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>const static internal <a href='../sys/Uri.html'>Uri</a>[] noUris := Uri[,]</code></p>
</dd>
<dt id='normalizedHref' class='method'>normalizedHref<a href='ObixObj_src.html#normalizedHref'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Uri.html'>Uri</a>? normalizedHref()</code></p>

<p>Get this objects <a href='ObixObj.html#href'>href</a> normalized against the root object's URI.  Return null no href defined.</p>
</dd>
<dt id='of' class='field'>of<a href='ObixObj_src.html#of'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Contract.html'>Contract</a>? of</code></p>

<p>The <code>of</code> contract for lists and feeds.</p>
</dd>
<dt id='out' class='field'>out<a href='ObixObj_src.html#out'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Contract.html'>Contract</a>? out</code></p>

<p>The <code>out</code> contract for operations.</p>
</dd>
<dt id='parent' class='field'>parent<a href='ObixObj_src.html#parent'>Source</a></dt>
<dd>
<p><code class='sig'>readonly <a href='ObixObj.html'>ObixObj</a>? parent</code></p>

<p>Parent object or null if unparented.</p>
</dd>
<dt id='precision' class='field'>precision<a href='ObixObj_src.html#precision'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Int.html'>Int</a>? precision</code></p>

<p>Number of decimal places to use for a real value.</p>
</dd>
<dt id='prev' class='field hidden'>prev<a href='ObixObj_src.html#prev'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>private <a href='ObixObj.html'>ObixObj</a>? prev</code></p>
</dd>
<dt id='range' class='field'>range<a href='ObixObj_src.html#range'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Uri.html'>Uri</a>? range</code></p>

<p>Reference to the range definition of an enum or bool value.</p>
</dd>
<dt id='readXml' class='method'>readXml<a href='ObixObj_src.html#readXml'>Source</a></dt>
<dd>
<p><code class='sig'>static <a href='ObixObj.html'>ObixObj</a> readXml(<a href='../sys/InStream.html'>InStream</a> in, <a href='../sys/Bool.html'>Bool</a> close := true)</code></p>

<p>Parse an XML document into memory as a tree of ObixObj. If close is true, then the input stream is guaranteed to be closed.</p>
</dd>
<dt id='remove' class='method'>remove<a href='ObixObj_src.html#remove'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/This.html'>This</a> remove(<a href='ObixObj.html'>ObixObj</a> kid)</code></p>

<p>Remove the specified child object by reference. Throw ArgErr if not my child.  Return this</p>
</dd>
<dt id='root' class='method'>root<a href='ObixObj_src.html#root'>Source</a></dt>
<dd>
<p><code class='sig'><a href='ObixObj.html'>ObixObj</a> root()</code></p>

<p>Get the root ancestor of this object, or return <code>this</code> if no parent.</p>
</dd>
<dt id='size' class='method'>size<a href='ObixObj_src.html#size'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Int.html'>Int</a> size()</code></p>

<p>Return number of child objects.</p>
</dd>
<dt id='status' class='field'>status<a href='ObixObj_src.html#status'>Source</a></dt>
<dd>
<p><code class='sig'><a href='Status.html'>Status</a> status := Status.ok</code></p>

<p>Status facet indicates quality and state.</p>
</dd>
<dt id='toStr' class='method'>toStr<a href='ObixObj_src.html#toStr'>Source</a></dt>
<dd>
<p><code class='sig'>override <a href='../sys/Str.html'>Str</a> toStr()</code></p>
<div class='slotInfo'>
<p>Overrides <a href='../sys/Obj.html#toStr'>sys::Obj.toStr</a></p>
</div>

<p>Return string representation.</p>
</dd>
<dt id='trap' class='method'>trap<a href='ObixObj_src.html#trap'>Source</a></dt>
<dd>
<p><code class='sig'>override <a href='../sys/Obj.html'>Obj</a>? trap(<a href='../sys/Str.html'>Str</a> name, <a href='../sys/Obj.html'>Obj</a>?[]? args)</code></p>
<div class='slotInfo'>
<p>Overrides <a href='../sys/Obj.html#trap'>sys::Obj.trap</a></p>
</div>

<p>If the name maps to a child object, then return that child's value.  Otherwise route to <code>Obj.trap</code>.</p>
</dd>
<dt id='tz' class='field'>tz<a href='ObixObj_src.html#tz'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/TimeZone.html'>TimeZone</a>? tz</code></p>

<p>TimeZone facet assocaited with abstime, date, and time objects. This field is automatically updated when <a href='ObixObj.html#val'>val</a> is assigned a DateTime unless its timezone is UTC or starts with "Etc/".  After decoding this field is set only if an explicit "tz" attribute was specified.</p>
</dd>
<dt id='unit' class='field'>unit<a href='ObixObj_src.html#unit'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Unit.html'>Unit</a>? unit</code></p>

<p>Unit of measurement for int and real values.  We only support units which are predefind in the oBIX unit database and specified using the URI "obix:units/".  These units are mapped to the <code><a href='../sys/Unit.html'>sys::Unit</a></code> API. If an unknown unit URI is decoded, then it is silently ignored and this field will be null.</p>
</dd>
<dt id='val' class='field'>val<a href='ObixObj_src.html#val'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Obj.html'>Obj</a>? val</code></p>

<p>Object value for value object types:</p>

<ul>
<li>obix:bool    => sys::Bool</li>

<li>obix:int     => sys::Int</li>

<li>obix:real    => sys::Float</li>

<li>obix:str     => sys::Str</li>

<li>obix:enum    => sys::Str</li>

<li>obix:uri     => sys::Uri</li>

<li>obix:abstime => sys::DateTime</li>

<li>obix:reltime => sys::Duration</li>

<li>obix:date    => sys::Date</li>

<li>obix:time    => sys::Time</li>
</ul>

<p>If the value is not one of the types listed above, then ArgErr is thrown.  If the value is set to non-null, then the <a href='ObixObj.html#elemName'>elemName</a> is automatically updated.</p>
</dd>
<dt id='valToStr' class='method'>valToStr<a href='ObixObj_src.html#valToStr'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Str.html'>Str</a> valToStr()</code></p>

<p>Get the value encoded as a string.  The string is <em>not</em> XML escaped.  If value is null return "null".</p>
</dd>
<dt id='writable' class='field'>writable<a href='ObixObj_src.html#writable'>Source</a></dt>
<dd>
<p><code class='sig'><a href='../sys/Bool.html'>Bool</a> writable</code></p>

<p>Specifies is this object can be written, or false if readonly.</p>
</dd>
<dt id='writeXml' class='method'>writeXml<a href='ObixObj_src.html#writeXml'>Source</a></dt>
<dd>
<p><code class='sig'>virtual <a href='../sys/Void.html'>Void</a> writeXml(<a href='../sys/OutStream.html'>OutStream</a> out, <a href='../sys/Int.html'>Int</a> indent := 0)</code></p>

<p>Write this ObixObj as an XML document to the specified stream. No XML prolog is specified so that this method can used to write a snippet of the overall document.</p>
</dd>
<dt id='xmlEsc' class='field hidden'>xmlEsc<a href='ObixObj_src.html#xmlEsc'>Source</a></dt>
<dd class='hidden'>
<p><code class='sig'>const static internal <a href='../sys/Int.html'>Int</a> xmlEsc := ...</code></p>
</dd>
</dl>
</div>
</div>
</div>
<div class='sidebar'>
<h2>Type</h2>
<ul class='clean'>
  <li><a href='ObixObj_src.html'>View Source</a></li>
  <li><a href='#' onclick='ShowSlots.toggle(event); return false;'>Show All Slots</a></li>
</ul>
<div class='slots'>
<div class='overview'>
<h2>Slots</h2>
<ul class='clean'>
  <li><a href='#add'>add</a></li>
  <li><a href='#clear'>clear</a></li>
  <li><a href='#contract'>contract</a></li>
  <li><a href='#display'>display</a></li>
  <li><a href='#displayName'>displayName</a></li>
  <li><a href='#each'>each</a></li>
  <li><a href='#elemName'>elemName</a></li>
  <li><a href='#first'>first</a></li>
  <li><a href='#get'>get</a></li>
  <li><a href='#has'>has</a></li>
  <li><a href='#href'>href</a></li>
  <li><a href='#icon'>icon</a></li>
  <li><a href='#in'>in</a></li>
  <li><a href='#isEmpty'>isEmpty</a></li>
  <li><a href='#isNull'>isNull</a></li>
  <li class='hidden'><a href='#kidsByName'>kidsByName</a></li>
  <li class='hidden'><a href='#kidsCount'>kidsCount</a></li>
  <li class='hidden'><a href='#kidsHead'>kidsHead</a></li>
  <li class='hidden'><a href='#kidsTail'>kidsTail</a></li>
  <li><a href='#last'>last</a></li>
  <li><a href='#list'>list</a></li>
  <li><a href='#max'>max</a></li>
  <li><a href='#min'>min</a></li>
  <li><a href='#name'>name</a></li>
  <li class='hidden'><a href='#next'>next</a></li>
  <li class='hidden'><a href='#noChildren'>noChildren</a></li>
  <li class='hidden'><a href='#noUris'>noUris</a></li>
  <li><a href='#normalizedHref'>normalizedHref</a></li>
  <li><a href='#of'>of</a></li>
  <li><a href='#out'>out</a></li>
  <li><a href='#parent'>parent</a></li>
  <li><a href='#precision'>precision</a></li>
  <li class='hidden'><a href='#prev'>prev</a></li>
  <li><a href='#range'>range</a></li>
  <li><a href='#readXml'>readXml</a></li>
  <li><a href='#remove'>remove</a></li>
  <li><a href='#root'>root</a></li>
  <li><a href='#size'>size</a></li>
  <li><a href='#status'>status</a></li>
  <li><a href='#toStr'>toStr</a></li>
  <li><a href='#trap'>trap</a></li>
  <li><a href='#tz'>tz</a></li>
  <li><a href='#unit'>unit</a></li>
  <li><a href='#val'>val</a></li>
  <li><a href='#valToStr'>valToStr</a></li>
  <li><a href='#writable'>writable</a></li>
  <li><a href='#writeXml'>writeXml</a></li>
  <li class='hidden'><a href='#xmlEsc'>xmlEsc</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='footer'>
<div>
<p>
obix 1.0.56
[11-Nov-2010 Thu 10:08:26AM EST]
</p>
</div>
</div>
</body>
</html>
